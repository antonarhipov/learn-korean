var fe=Object.defineProperty,xe=Object.defineProperties;var ve=Object.getOwnPropertyDescriptors;var ie=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable;var re=(a,t,s)=>t in a?fe(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,A=(a,t)=>{for(var s in t||(t={}))be.call(t,s)&&re(a,s,t[s]);if(ie)for(var s of ie(t))je.call(t,s)&&re(a,s,t[s]);return a},$=(a,t)=>xe(a,ve(t));var we=(a,t)=>()=>(t||a((t={exports:{}}).exports,t),t.exports);var se=(a,t,s)=>re(a,typeof t!="symbol"?t+"":t,s);var J=(a,t,s)=>new Promise((r,n)=>{var o=c=>{try{i(s.next(c))}catch(f){n(f)}},l=c=>{try{i(s.throw(c))}catch(f){n(f)}},i=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,l);i((s=s.apply(a,t)).next())});import{r as m,a as Se,b as de}from"./vendor-DGUZjIjy.js";import{u as ke,L as M,a as Ce,R as Ae,b as Y,B as Te}from"./router-BUhl0ivy.js";var st=we(oe=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();var me={exports:{}},ee={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ne=m,Ee=Symbol.for("react.element"),De=Symbol.for("react.fragment"),Re=Object.prototype.hasOwnProperty,Le=Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ie={key:!0,ref:!0,__self:!0,__source:!0};function ue(a,t,s){var r,n={},o=null,l=null;s!==void 0&&(o=""+s),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Re.call(t,r)&&!Ie.hasOwnProperty(r)&&(n[r]=t[r]);if(a&&a.defaultProps)for(r in t=a.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:Ee,type:a,key:o,ref:l,props:n,_owner:Le.current}}ee.Fragment=De;ee.jsx=ue;ee.jsxs=ue;me.exports=ee;var e=me.exports,ae={},le=Se;ae.createRoot=le.createRoot,ae.hydrateRoot=le.hydrateRoot;const N={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error",CRITICAL:"critical"},G={COMPONENT:"component",ASSET_LOADING:"asset_loading",NETWORK:"network",PERFORMANCE:"performance",USER_INTERACTION:"user_interaction",DATA_VALIDATION:"data_validation",AUDIO_PLAYBACK:"audio_playback",NAVIGATION:"navigation",STORAGE:"storage",SYSTEM:"system"},ze={maxLogEntries:100,enableConsoleLogging:!0,enableLocalStorage:!0,enableRemoteLogging:!1,logLevels:[N.DEBUG,N.INFO,N.WARN,N.ERROR,N.CRITICAL],storageKey:"korean_app_error_logs",analyticsKey:"korean_app_analytics"};class Pe{constructor(t={}){this.config=A(A({},ze),t),this.sessionId=this.generateSessionId(),this.startTime=Date.now(),this.errorCount=0,this.warningCount=0,this.infoCount=0,this.analytics={errors:new Map,performance:[],userInteractions:[],assetFailures:new Map,retryStatistics:new Map},this.loadExistingLogs(),this.setupPeriodicSave()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}generateErrorId(){return`error_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}log(t,s,r,n={}){if(!this.config.logLevels.includes(t))return;const o=this.generateErrorId(),l=new Date().toISOString(),i={id:o,timestamp:l,sessionId:this.sessionId,level:t,category:s,message:r,details:$(A({},n),{url:window.location.href,userAgent:navigator.userAgent,viewport:{width:window.innerWidth,height:window.innerHeight},sessionDuration:Date.now()-this.startTime})};return this.updateCounters(t),this.updateAnalytics(i),this.config.enableConsoleLogging&&this.logToConsole(i),this.config.enableLocalStorage&&this.logToLocalStorage(i),this.config.enableRemoteLogging&&this.logToRemote(i),o}debug(t,s,r){return this.log(N.DEBUG,t,s,r)}info(t,s,r){return this.log(N.INFO,t,s,r)}warn(t,s,r){return this.log(N.WARN,t,s,r)}error(t,s,r){return this.log(N.ERROR,t,s,r)}critical(t,s,r){return this.log(N.CRITICAL,t,s,r)}logComponentError(t,s,r){return this.error(G.COMPONENT,`Component error in ${t}`,{componentName:t,error:{name:s.name,message:s.message,stack:s.stack},errorInfo:r,componentStack:r==null?void 0:r.componentStack})}logAssetFailure(t,s,r,n=0){const o=this.error(G.ASSET_LOADING,`Failed to load ${s}: ${t}`,{assetUrl:t,assetType:s,error:r.message||r.toString(),retryAttempts:n,isPermanentFailure:n>=3}),l=this.analytics.assetFailures.get(t)||[];return l.push({timestamp:new Date().toISOString(),error:r.message||r.toString(),retryAttempts:n}),this.analytics.assetFailures.set(t,l),o}logRetryAttempt(t,s,r,n=!1){const o=n?N.INFO:N.WARN,l=n?`Retry successful for ${t} after ${s} attempts`:`Retry attempt ${s} for ${t} (delay: ${r}ms)`,i=this.log(o,G.ASSET_LOADING,l,{assetUrl:t,attempt:s,delay:r,success:n}),c=this.analytics.retryStatistics.get(t)||{attempts:0,successes:0,failures:0,totalDelay:0};return c.attempts++,c.totalDelay+=r||0,n?c.successes++:c.failures++,this.analytics.retryStatistics.set(t,c),i}logPerformanceIssue(t,s,r,n={}){return this.warn(G.PERFORMANCE,`Performance issue: ${t} (${s}ms > ${r}ms)`,A({metric:t,value:s,threshold:r},n))}logUserInteraction(t,s,r={}){const n=this.debug(G.USER_INTERACTION,`User interaction: ${t}`,A({action:t,element:s},r));return this.analytics.userInteractions.push({timestamp:new Date().toISOString(),action:t,element:s,details:r}),n}updateCounters(t){switch(t){case N.ERROR:case N.CRITICAL:this.errorCount++;break;case N.WARN:this.warningCount++;break;case N.INFO:case N.DEBUG:this.infoCount++;break}}updateAnalytics(t){const s=`${t.category}_${t.level}`,r=this.analytics.errors.get(s)||[];r.push({timestamp:t.timestamp,message:t.message,details:t.details}),this.analytics.errors.set(s,r)}logToConsole(t){const{level:s,category:r,message:n,details:o}=t,l=`[${s.toUpperCase()}][${r}]`;switch(s){case N.DEBUG:console.debug(l,n,o);break;case N.INFO:console.info(l,n,o);break;case N.WARN:console.warn(l,n,o);break;case N.ERROR:case N.CRITICAL:console.error(l,n,o);break;default:console.log(l,n,o)}}logToLocalStorage(t){try{const s=JSON.parse(localStorage.getItem(this.config.storageKey)||"[]");s.push(t);const r=s.slice(-this.config.maxLogEntries);localStorage.setItem(this.config.storageKey,JSON.stringify(r))}catch(s){console.warn("Failed to save error log to localStorage:",s)}}loadExistingLogs(){try{return JSON.parse(localStorage.getItem(this.config.storageKey)||"[]")}catch(t){return console.warn("Failed to load existing logs:",t),[]}}getAllLogs(){return this.loadExistingLogs()}getLogsByCategory(t){return this.getAllLogs().filter(r=>r.category===t)}getLogsByLevel(t){return this.getAllLogs().filter(r=>r.level===t)}getErrorStatistics(){const t=this.getAllLogs(),s={total:t.length,byLevel:{},byCategory:{},recentErrors:t.filter(r=>Date.now()-new Date(r.timestamp).getTime()<24*60*60*1e3).length,sessionStats:{errors:this.errorCount,warnings:this.warningCount,info:this.infoCount,sessionDuration:Date.now()-this.startTime}};return Object.values(N).forEach(r=>{s.byLevel[r]=t.filter(n=>n.level===r).length}),Object.values(G).forEach(r=>{s.byCategory[r]=t.filter(n=>n.category===r).length}),s}getAnalytics(){return $(A({},this.analytics),{statistics:this.getErrorStatistics(),assetFailures:Object.fromEntries(this.analytics.assetFailures),retryStatistics:Object.fromEntries(this.analytics.retryStatistics)})}clearLogs(){try{return localStorage.removeItem(this.config.storageKey),localStorage.removeItem(this.config.analyticsKey),this.analytics={errors:new Map,performance:[],userInteractions:[],assetFailures:new Map,retryStatistics:new Map},this.errorCount=0,this.warningCount=0,this.infoCount=0,!0}catch(t){return console.warn("Failed to clear logs:",t),!1}}exportLogs(){const t={logs:this.getAllLogs(),analytics:this.getAnalytics(),statistics:this.getErrorStatistics(),sessionInfo:{sessionId:this.sessionId,startTime:this.startTime,duration:Date.now()-this.startTime}};return JSON.stringify(t,null,2)}setupPeriodicSave(){setInterval(()=>{try{const t=this.getAnalytics();localStorage.setItem(this.config.analyticsKey,JSON.stringify(t))}catch(t){console.warn("Failed to save analytics data:",t)}},3e4)}logToRemote(t){console.debug("Remote logging not implemented yet:",t)}}const X=new Pe,U=(a,t,s)=>X.error(a,t,s),ce=(a,t,s)=>X.warn(a,t,s),Z=(a,t,s)=>X.info(a,t,s),Be=(a,t,s)=>X.logComponentError(a,t,s),V=(a,t,s,r)=>X.logPerformanceIssue(a,t,s,r),_={PAGE_LOAD:3e3,COMPONENT_RENDER:100,AUDIO_LOAD:2e3,IMAGE_LOAD:1500,USER_INTERACTION:50};class Oe{constructor(){this.metrics=new Map,this.observers=new Map,this.startTime=performance.now(),this.pageLoadTime=null,this.initializeMonitoring()}initializeMonitoring(){this.monitorPageLoad(),this.monitorResourceLoading(),this.monitorUserInteractions(),this.monitorMemoryUsage()}monitorPageLoad(){document.readyState==="complete"?this.recordPageLoadTime():window.addEventListener("load",()=>{this.recordPageLoadTime()})}recordPageLoadTime(){const t=performance.now()-this.startTime;this.pageLoadTime=t,Z("performance",`Page loaded in ${Math.round(t)}ms`,{loadTime:t,threshold:_.PAGE_LOAD,isWithinThreshold:t<=_.PAGE_LOAD}),t>_.PAGE_LOAD&&V("page_load",t,_.PAGE_LOAD,{url:window.location.href,userAgent:navigator.userAgent}),this.metrics.set("page_load",{value:t,timestamp:new Date().toISOString(),threshold:_.PAGE_LOAD,withinThreshold:t<=_.PAGE_LOAD})}monitorResourceLoading(){if("PerformanceObserver"in window){const t=new PerformanceObserver(s=>{s.getEntries().forEach(r=>{this.processResourceEntry(r)})});t.observe({entryTypes:["resource"]}),this.observers.set("resource",t)}}processResourceEntry(t){const{name:s,duration:r,transferSize:n}=t,o=this.getResourceType(s),l=this.getResourceThreshold(o);r>l&&V(`${o}_load`,r,l,{resourceUrl:s,transferSize:n,resourceType:o});const i=`${o}_load_${Date.now()}`;this.metrics.set(i,{resourceUrl:s,resourceType:o,duration:r,transferSize:n,threshold:l,withinThreshold:r<=l,timestamp:new Date().toISOString()})}getResourceType(t){return t.includes(".mp3")||t.includes(".wav")||t.includes(".ogg")?"audio":t.includes(".jpg")||t.includes(".png")||t.includes(".gif")||t.includes(".webp")?"image":t.includes(".js")?"script":t.includes(".css")?"stylesheet":"other"}getResourceThreshold(t){switch(t){case"audio":return _.AUDIO_LOAD;case"image":return _.IMAGE_LOAD;default:return 1e3}}monitorUserInteractions(){["click","keydown","touchstart"].forEach(s=>{document.addEventListener(s,r=>{this.recordUserInteraction(s,r)},{passive:!0})})}recordUserInteraction(t,s){const r=performance.now();requestAnimationFrame(()=>{const n=performance.now()-r;n>_.USER_INTERACTION&&V("user_interaction",n,_.USER_INTERACTION,{eventType:t,targetElement:s.target.tagName,targetClass:s.target.className,targetId:s.target.id});const o=`interaction_${t}_${Date.now()}`;this.metrics.set(o,{eventType:t,responseTime:n,threshold:_.USER_INTERACTION,withinThreshold:n<=_.USER_INTERACTION,targetElement:s.target.tagName,timestamp:new Date().toISOString()})})}monitorMemoryUsage(){"memory"in performance&&setInterval(()=>{const t=performance.memory,s=Math.round(t.usedJSHeapSize/1048576),r=Math.round(t.totalJSHeapSize/1048576),n=Math.round(t.jsHeapSizeLimit/1048576);Z("performance",`Memory usage: ${s}MB / ${r}MB (limit: ${n}MB)`,{usedMB:s,totalMB:r,limitMB:n,usagePercentage:Math.round(s/n*100)}),s/n>.8&&V("memory_usage",s,n*.8,{usedMB:s,totalMB:r,limitMB:n,usagePercentage:Math.round(s/n*100)}),this.metrics.set("memory_usage",{usedMB:s,totalMB:r,limitMB:n,usagePercentage:Math.round(s/n*100),timestamp:new Date().toISOString()})},3e4)}measureComponentRender(t,s){const r=performance.now();try{const n=s();if(n&&typeof n.then=="function")return n.then(o=>{const l=performance.now()-r;return this.recordComponentRenderTime(t,l),o});{const o=performance.now()-r;return this.recordComponentRenderTime(t,o),n}}catch(n){const o=performance.now()-r;throw this.recordComponentRenderTime(t,o,n),n}}recordComponentRenderTime(t,s,r=null){s>_.COMPONENT_RENDER&&V("component_render",s,_.COMPONENT_RENDER,{componentName:t,error:r?r.message:null});const n=`component_render_${t}_${Date.now()}`;this.metrics.set(n,{componentName:t,renderTime:s,threshold:_.COMPONENT_RENDER,withinThreshold:s<=_.COMPONENT_RENDER,hasError:!!r,error:r?r.message:null,timestamp:new Date().toISOString()})}measureAsyncOperation(t,s){return J(this,null,function*(){const r=performance.now();try{const n=yield s(),o=performance.now()-r;return Z("performance",`${t} completed in ${Math.round(o)}ms`,{operationName:t,duration:o,success:!0}),n}catch(n){const o=performance.now()-r;throw V("async_operation",o,5e3,{operationName:t,error:n.message,success:!1}),n}})}getMetrics(){return{pageLoadTime:this.pageLoadTime,metrics:Object.fromEntries(this.metrics),summary:this.getMetricsSummary()}}getMetricsSummary(){const t=Array.from(this.metrics.values()),s=t.filter(r=>!r.withinThreshold);return{totalMetrics:t.length,performanceIssues:s.length,performanceScore:t.length>0?Math.round((t.length-s.length)/t.length*100):100,averagePageLoadTime:this.pageLoadTime,memoryUsage:this.metrics.get("memory_usage")}}clearMetrics(){this.metrics.clear()}cleanup(){this.observers.forEach(t=>{t.disconnect()}),this.observers.clear()}}const he=new Oe,_e=(a,t)=>he.measureComponentRender(a,t),Ke=(a,t)=>he.measureAsyncOperation(a,t),ge=a=>({measureRender:r=>_e(a,r),measureAsync:(r,n)=>Ke(`${a}_${r}`,n)}),Me=({children:a})=>{const t=ke(),{measureAsync:s}=ge("Layout"),r=n=>t.pathname===n;return m.useEffect(()=>{s("navigation",()=>J(oe,null,function*(){return yield new Promise(n=>setTimeout(n,0)),`Navigated to ${t.pathname}`}))},[t.pathname,s]),e.jsxs("div",{className:"layout",children:[e.jsxs("aside",{className:"sidebar",children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsx("h1",{className:"sidebar-title",children:"Learn Korean"}),e.jsx("p",{className:"sidebar-subtitle",children:"Interactive Language Learning"})]}),e.jsxs("nav",{className:"sidebar-nav",children:[e.jsxs("div",{className:"nav-section",children:[e.jsx("h2",{className:"nav-section-title",children:"Main"}),e.jsxs(M,{to:"/",className:`nav-item ${r("/")?"active":""}`,children:[e.jsx("span",{className:"nav-item-icon",children:"🏠"}),"Home"]}),e.jsxs(M,{to:"/lessons",className:`nav-item ${r("/lessons")?"active":""}`,children:[e.jsx("span",{className:"nav-item-icon",children:"📚"}),"Lessons"]}),e.jsxs(M,{to:"/progress",className:`nav-item ${r("/progress")?"active":""}`,children:[e.jsx("span",{className:"nav-item-icon",children:"📊"}),"Progress"]})]}),e.jsxs("div",{className:"nav-section",children:[e.jsx("h2",{className:"nav-section-title",children:"Settings"}),e.jsxs(M,{to:"/settings",className:`nav-item ${r("/settings")?"active":""}`,children:[e.jsx("span",{className:"nav-item-icon",children:"⚙️"}),"Settings"]})]})]})]}),e.jsx("main",{className:"main-content",children:e.jsx("div",{className:"main-body",children:e.jsx("div",{className:"page-container",children:a})})})]})};class Q extends de.Component{constructor(s){super(s);se(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null})});se(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static getDerivedStateFromError(s){return{hasError:!0}}componentDidCatch(s,r){const n=Be(this.props.componentName||"Unknown Component",s,r);this.setState({error:s,errorInfo:r,errorId:n}),this.props.onError&&this.props.onError(s,r,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback(this.state.error,this.handleRetry):e.jsx("div",{className:"error-boundary",children:e.jsxs("div",{className:"error-boundary-content",children:[e.jsx("div",{className:"error-boundary-icon",children:"⚠️"}),e.jsx("h2",{className:"error-boundary-title",children:this.props.title||"Something went wrong"}),e.jsx("p",{className:"error-boundary-message",children:this.props.message||"We encountered an unexpected error. Please try again or reload the page."}),!1,e.jsxs("div",{className:"error-boundary-actions",children:[e.jsx("button",{onClick:this.handleRetry,className:"btn btn-primary",children:"Try Again"}),e.jsx("button",{onClick:this.handleReload,className:"btn btn-outline",children:"Reload Page"})]})]})}):this.props.children}}const We=()=>{const{measureAsync:a}=ge("Home");return m.useEffect(()=>{a("page_load",()=>J(oe,null,function*(){return yield new Promise(t=>setTimeout(t,0)),"Home page loaded"}))},[a]),e.jsxs("div",{className:"page-container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Welcome to Learn Korean"}),e.jsx("p",{className:"page-description",children:"Start your journey to learn Korean through interactive lessons, exercises, and multimedia content. Master Hangul, vocabulary, grammar, and pronunciation at your own pace."})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h2",{className:"card-title",children:"Ready to Begin?"}),e.jsx("p",{className:"card-subtitle",children:"Our structured learning path will guide you from basic Hangul to conversational Korean."})]}),e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("h3",{style:{marginBottom:"1rem",color:"var(--text-primary)"},children:"What you'll learn:"}),e.jsxs("ul",{style:{listStyle:"disc",paddingLeft:"1.5rem",color:"var(--text-secondary)",lineHeight:"1.8"},children:[e.jsx("li",{children:"Korean alphabet (Hangul) - reading and writing"}),e.jsx("li",{children:"Essential vocabulary for daily conversations"}),e.jsx("li",{children:"Basic grammar structures and sentence patterns"}),e.jsx("li",{children:"Proper pronunciation with audio examples"}),e.jsx("li",{children:"Cultural context and etiquette"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"center"},children:[e.jsx(M,{to:"/lessons",className:"btn btn-primary",children:"Start Learning"}),e.jsx(M,{to:"/progress",className:"btn btn-outline",children:"View Progress"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem",marginTop:"2rem"},children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"📚 Structured Lessons"})}),e.jsx("p",{style:{color:"var(--text-secondary)"},children:"Follow our carefully designed curriculum that builds knowledge progressively, from basic characters to complex conversations."})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"🎯 Interactive Exercises"})}),e.jsx("p",{style:{color:"var(--text-secondary)"},children:"Practice with quizzes, flashcards, and pronunciation exercises that reinforce your learning and track your progress."})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"🔊 Audio Support"})}),e.jsx("p",{style:{color:"var(--text-secondary)"},children:"Learn proper pronunciation with native speaker audio examples for every lesson and vocabulary item."})]})]})]})},$e=()=>{const a=[{id:"module-1",title:"Hangul Basics",description:"Learn the Korean alphabet and basic reading skills",lessons:[{id:"lesson-001",title:"Introduction to Hangul",level:"beginner",completed:!1},{id:"lesson-002",title:"Vowels and Consonants",level:"beginner",completed:!1},{id:"lesson-003",title:"Reading Practice",level:"beginner",completed:!1}]},{id:"module-2",title:"Greetings",description:"Essential greetings and introductions",lessons:[{id:"lesson-004",title:"Basic Greetings",level:"beginner",completed:!1},{id:"lesson-005",title:"Introducing Yourself",level:"beginner",completed:!1}]}],t=s=>{switch(s){case"beginner":return"badge-success";case"intermediate":return"badge-warning";case"advanced":return"badge-error";default:return"badge-success"}};return e.jsxs("div",{className:"page-container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Korean Lessons"}),e.jsx("p",{className:"page-description",children:"Choose a lesson to start learning. Complete lessons in order to unlock new content."})]}),e.jsx("div",{style:{marginBottom:"2rem"},children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h2",{className:"card-title",children:"Learning Progress"})}),e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:"0%"}})}),e.jsx("p",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"var(--text-secondary)"},children:"0 of 5 lessons completed (0%)"})]})}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"2rem"},children:a.map(s=>e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h2",{className:"card-title",children:s.title}),e.jsx("p",{className:"card-subtitle",children:s.description})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1rem"},children:s.lessons.map(r=>e.jsxs("div",{style:{border:"1px solid var(--border-color)",borderRadius:"var(--border-radius)",padding:"1rem",backgroundColor:"var(--bg-secondary)",transition:"all 0.2s ease"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.75rem"},children:[e.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:"var(--text-primary)",margin:0},children:r.title}),e.jsx("span",{className:`badge ${t(r.level)}`,children:r.level})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:"0.875rem",color:r.completed?"var(--success-color)":"var(--text-secondary)"},children:r.completed?"✓ Completed":"Not started"}),e.jsx(M,{to:`/lessons/${r.id}`,className:"btn btn-primary",style:{fontSize:"0.75rem",padding:"0.5rem 1rem"},children:r.completed?"Review":"Start"})]})]},r.id))})]},s.id))}),e.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h2",{className:"card-title",children:"Coming Soon"}),e.jsx("p",{className:"card-subtitle",children:"More lessons and modules will be added regularly"})]}),e.jsx("p",{style:{color:"var(--text-secondary)"},children:"We're continuously expanding our curriculum. Check back regularly for new lessons covering intermediate and advanced Korean topics."})]})]})},qe=({exercise:a,onComplete:t,onProgress:s})=>{const[r,n]=m.useState({}),[o,l]=m.useState(!1),[i,c]=m.useState(0),[f]=m.useState(Date.now());m.useEffect(()=>{const d={};a.questions.forEach((p,y)=>{d[y]=""}),n(d)},[a]);const x=(d,p)=>{n(y=>$(A({},y),{[d]:p}))},u=()=>{let d=0;a.questions.forEach((v,C)=>{const E=r[C].trim().toLowerCase(),B=v.correctAnswer.toLowerCase();E===B&&d++});const p=Math.round(d/a.questions.length*100);c(p),l(!0);const y=Date.now()-f;s&&s({exerciseType:"fill-in-the-blank",score:p,timeSpent:y,correctAnswers:d,totalQuestions:a.questions.length}),p>=70&&t&&t({exerciseType:"fill-in-the-blank",score:p,timeSpent:y})},g=()=>{const d={};a.questions.forEach((p,y)=>{d[y]=""}),n(d),l(!1),c(0)},j=(d,p)=>{const y=d.sentence.split("___"),v=r[p]||"",C=o&&v.trim().toLowerCase()===d.correctAnswer.toLowerCase(),E=o&&v.trim().toLowerCase()!==d.correctAnswer.toLowerCase();return e.jsxs("div",{className:"question-container",style:{marginBottom:"2rem"},children:[e.jsx("div",{style:{marginBottom:"1rem"},children:e.jsxs("strong",{children:["Question ",p+1,":"]})}),e.jsxs("div",{style:{fontSize:"1.2rem",marginBottom:"1rem",lineHeight:"1.6"},children:[y[0],e.jsx("input",{type:"text",value:v,onChange:B=>x(p,B.target.value),disabled:o,style:{display:"inline-block",minWidth:"120px",padding:"0.5rem",margin:"0 0.5rem",border:`2px solid ${C?"#28a745":E?"#dc3545":"var(--border-color)"}`,borderRadius:"var(--border-radius)",fontSize:"1rem",backgroundColor:C?"#d4edda":E?"#f8d7da":"white"},placeholder:"답을 입력하세요"}),y[1]]}),d.hint&&e.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)",fontStyle:"italic",marginBottom:"0.5rem"},children:["💡 Hint: ",d.hint]}),d.translation&&e.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:["Translation: ",d.translation]}),o&&e.jsx("div",{style:{marginTop:"0.5rem",padding:"0.5rem",borderRadius:"var(--border-radius)",backgroundColor:C?"#d4edda":"#f8d7da",border:`1px solid ${C?"#28a745":"#dc3545"}`},children:C?e.jsx("span",{style:{color:"#155724"},children:"✓ Correct!"}):e.jsxs("span",{style:{color:"#721c24"},children:["✗ Incorrect. The correct answer is: ",e.jsx("strong",{children:d.correctAnswer})]})})]},p)};return e.jsx("div",{className:"exercise-container",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:a.title}),e.jsx("p",{className:"card-subtitle",children:"Fill in the blanks with the correct Korean words or phrases"})]}),e.jsxs("div",{style:{padding:"1.5rem"},children:[a.instructions&&e.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",backgroundColor:"var(--bg-secondary)",borderRadius:"var(--border-radius)",border:"1px solid var(--border-color)"},children:[e.jsx("strong",{children:"Instructions:"})," ",a.instructions]}),a.questions.map((d,p)=>j(d,p)),e.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"2rem"},children:o?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{padding:"1rem",textAlign:"center",backgroundColor:i>=70?"#d4edda":"#f8d7da",borderRadius:"var(--border-radius)",border:`1px solid ${i>=70?"#28a745":"#dc3545"}`,marginRight:"1rem"},children:[e.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:["Score: ",i,"%"]}),e.jsx("div",{style:{fontSize:"0.9rem"},children:i>=70?"🎉 Great job!":"📚 Keep practicing!"})]}),e.jsx("button",{className:"btn btn-secondary",onClick:g,children:"Try Again"})]}):e.jsx("button",{className:"btn btn-primary",onClick:u,disabled:Object.values(r).some(d=>!d.trim()),children:"Check Answers"})})]})]})})},He=({exercise:a,onComplete:t,onProgress:s})=>{const[r,n]=m.useState(null),[o,l]=m.useState({}),[i,c]=m.useState([]),[f,x]=m.useState(!1),[u,g]=m.useState(0),[j]=m.useState(Date.now());m.useEffect(()=>{d()},[a]);const d=()=>{const b={},w=[];a.questions.forEach((D,z)=>{b[z]=new Array(D.correctOrder.length).fill(null);const R=[...D.words].sort(()=>Math.random()-.5);w.push(...R.map((k,K)=>({id:`${z}-${K}`,text:k,questionIndex:z,originalIndex:D.words.indexOf(k)})))}),l(b),c(w)},p=(b,w)=>{n(w),b.dataTransfer.effectAllowed="move"},y=b=>{b.preventDefault(),b.dataTransfer.dropEffect="move"},v=(b,w,D)=>{if(b.preventDefault(),!r)return;const z=i.filter(K=>K.id!==r.id),R=o[w][D];R&&z.push(R);const k=A({},o);k[w][D]=r,c(z),l(k),n(null)},C=b=>{if(b.preventDefault(),!r)return;const w=A({},o);Object.keys(w).forEach(z=>{const R=w[z].findIndex(k=>k&&k.id===r.id);R!==-1&&(w[z][R]=null)});const D=[...i,r];l(w),c(D),n(null)},E=()=>{let b=a.questions.length,w=0;a.questions.forEach((R,k)=>{const K=o[k].map(W=>W?W.text:null),P=R.correctOrder;JSON.stringify(K)===JSON.stringify(P)&&w++});const D=Math.round(w/b*100);g(D),x(!0);const z=Date.now()-j;s&&s({exerciseType:"drag-drop",score:D,timeSpent:z,correctAnswers:w,totalQuestions:b}),D>=70&&t&&t({exerciseType:"drag-drop",score:D,timeSpent:z})},B=()=>{d(),x(!1),g(0)},q=b=>o[b]&&o[b].every(w=>w!==null),H=()=>Object.keys(o).every(b=>q(b)),O=(b,w)=>{const D=o[w]||[],z=b.correctOrder,R=f&&JSON.stringify(D.map(k=>k?k.text:null))===JSON.stringify(z);return e.jsxs("div",{className:"question-container",style:{marginBottom:"2rem"},children:[e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsxs("strong",{children:["Question ",w+1,":"]})," ",b.instruction]}),b.context&&e.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",marginBottom:"1rem",fontStyle:"italic"},children:["Context: ",b.context]}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem",minHeight:"60px",padding:"1rem",border:`2px dashed ${R?"#28a745":f?"#dc3545":"var(--border-color)"}`,borderRadius:"var(--border-radius)",backgroundColor:R?"#d4edda":f?"#f8d7da":"var(--bg-secondary)"},children:D.map((k,K)=>e.jsx("div",{onDragOver:y,onDrop:P=>v(P,w,K),style:{minWidth:"80px",minHeight:"40px",border:"2px dashed var(--border-color)",borderRadius:"var(--border-radius)",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:k?"var(--primary-color)":"transparent",color:k?"white":"var(--text-muted)",fontSize:"0.9rem",cursor:k?"grab":"default"},draggable:!!k,onDragStart:k?P=>p(P,k):void 0,children:k?k.text:`${K+1}`},K))}),b.translation&&e.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:["Translation: ",b.translation]}),f&&e.jsx("div",{style:{marginTop:"0.5rem",padding:"0.5rem",borderRadius:"var(--border-radius)",backgroundColor:R?"#d4edda":"#f8d7da",border:`1px solid ${R?"#28a745":"#dc3545"}`},children:R?e.jsx("span",{style:{color:"#155724"},children:"✓ Correct sentence construction!"}):e.jsxs("span",{style:{color:"#721c24"},children:["✗ Incorrect. The correct order is: ",e.jsx("strong",{children:z.join(" ")})]})})]},w)};return e.jsx("div",{className:"exercise-container",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:a.title}),e.jsx("p",{className:"card-subtitle",children:"Drag and drop the words to construct correct Korean sentences"})]}),e.jsxs("div",{style:{padding:"1.5rem"},children:[a.instructions&&e.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",backgroundColor:"var(--bg-secondary)",borderRadius:"var(--border-radius)",border:"1px solid var(--border-color)"},children:[e.jsx("strong",{children:"Instructions:"})," ",a.instructions]}),a.questions.map((b,w)=>O(b,w)),e.jsxs("div",{style:{marginTop:"2rem"},children:[e.jsx("h4",{style:{marginBottom:"1rem"},children:"Available Words:"}),e.jsx("div",{style:{minHeight:"80px",padding:"1rem",border:"2px dashed var(--border-color)",borderRadius:"var(--border-radius)",backgroundColor:"var(--bg-secondary)",display:"flex",flexWrap:"wrap",gap:"0.5rem"},onDragOver:y,onDrop:C,children:i.length===0?e.jsx("div",{style:{color:"var(--text-muted)",fontStyle:"italic",width:"100%",textAlign:"center"},children:"All words have been used"}):i.map(b=>e.jsx("div",{draggable:!0,onDragStart:w=>p(w,b),style:{padding:"0.5rem 1rem",backgroundColor:"var(--primary-color)",color:"white",borderRadius:"var(--border-radius)",cursor:"grab",fontSize:"0.9rem",userSelect:"none"},children:b.text},b.id))})]}),e.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"2rem"},children:f?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{padding:"1rem",textAlign:"center",backgroundColor:u>=70?"#d4edda":"#f8d7da",borderRadius:"var(--border-radius)",border:`1px solid ${u>=70?"#28a745":"#dc3545"}`,marginRight:"1rem"},children:[e.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:["Score: ",u,"%"]}),e.jsx("div",{style:{fontSize:"0.9rem"},children:u>=70?"🎉 Excellent sentence construction!":"📚 Keep practicing!"})]}),e.jsx("button",{className:"btn btn-secondary",onClick:B,children:"Try Again"})]}):e.jsx("button",{className:"btn btn-primary",onClick:E,disabled:!H(),children:"Check Answers"})})]})]})})},Fe=({exercise:a,onComplete:t,onProgress:s})=>{const[r,n]=m.useState(0),[o,l]=m.useState({}),[i,c]=m.useState(!1),[f,x]=m.useState(0),[u,g]=m.useState(1),[j,d]=m.useState(!1),[p,y]=m.useState(0),[v,C]=m.useState(0),[E]=m.useState(Date.now()),B=m.useRef(null);m.useEffect(()=>{const h={};a.questions.forEach((S,T)=>{h[T]=""}),l(h)},[a]),m.useEffect(()=>{const h=B.current;if(h){const S=()=>y(h.currentTime),T=()=>C(h.duration),F=()=>d(!1);return h.addEventListener("timeupdate",S),h.addEventListener("loadedmetadata",T),h.addEventListener("ended",F),()=>{h.removeEventListener("timeupdate",S),h.removeEventListener("loadedmetadata",T),h.removeEventListener("ended",F)}}},[]);const q=(h,S)=>{l(T=>$(A({},T),{[h]:S}))},H=()=>{const h=B.current;h&&(h.playbackRate=u,h.play(),d(!0))},O=()=>{const h=B.current;h&&(h.pause(),d(!1))},b=h=>{g(h);const S=B.current;S&&(S.playbackRate=h)},w=h=>{const S=B.current;S&&(S.currentTime=h,y(h))},D=h=>{const S=Math.floor(h/60),T=Math.floor(h%60);return`${S}:${T.toString().padStart(2,"0")}`},z=()=>{let h=0;a.questions.forEach((F,te)=>{const pe=o[te].trim().toLowerCase(),ye=F.correctAnswer.toLowerCase();pe===ye&&h++});const S=Math.round(h/a.questions.length*100);x(S),c(!0);const T=Date.now()-E;s&&s({exerciseType:"listening",score:S,timeSpent:T,correctAnswers:h,totalQuestions:a.questions.length,speedUsed:u}),S>=70&&t&&t({exerciseType:"listening",score:S,timeSpent:T,speedUsed:u})},R=()=>{const h={};a.questions.forEach((S,T)=>{h[T]=""}),l(h),c(!1),x(0),n(0),y(0),d(!1)},k=()=>{r<a.questions.length-1&&n(r+1)},K=()=>{r>0&&n(r-1)},P=a.questions[r],W=o[r]||"",L=i&&W.trim().toLowerCase()===P.correctAnswer.toLowerCase(),I=i&&W.trim().toLowerCase()!==P.correctAnswer.toLowerCase();return e.jsx("div",{className:"exercise-container",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:a.title}),e.jsx("p",{className:"card-subtitle",children:"Listen to Korean audio and answer comprehension questions"})]}),e.jsxs("div",{style:{padding:"1.5rem"},children:[a.instructions&&e.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",backgroundColor:"var(--bg-secondary)",borderRadius:"var(--border-radius)",border:"1px solid var(--border-color)"},children:[e.jsx("strong",{children:"Instructions:"})," ",a.instructions]}),e.jsxs("div",{style:{marginBottom:"2rem",padding:"1.5rem",backgroundColor:"var(--bg-secondary)",borderRadius:"var(--border-radius)",border:"1px solid var(--border-color)"},children:[e.jsx("h4",{style:{marginBottom:"1rem"},children:"Audio Player"}),e.jsx("audio",{ref:B,src:a.audioUrl,preload:"metadata",style:{display:"none"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[e.jsx("button",{className:"btn btn-primary",onClick:j?O:H,style:{minWidth:"80px"},children:j?"⏸️ Pause":"▶️ Play"}),e.jsxs("div",{style:{flex:1},children:[e.jsx("input",{type:"range",min:"0",max:v||0,value:p,onChange:h=>w(parseFloat(h.target.value)),style:{width:"100%"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",color:"var(--text-muted)",marginTop:"0.25rem"},children:[e.jsx("span",{children:D(p)}),e.jsx("span",{children:D(v)})]})]})]}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Playback Speed:"}),e.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:[.5,.75,1,1.25,1.5].map(h=>e.jsxs("button",{className:`btn ${u===h?"btn-primary":"btn-outline"}`,onClick:()=>b(h),style:{fontSize:"0.8rem",padding:"0.25rem 0.75rem"},children:[h,"x"]},h))})]}),a.transcript&&e.jsxs("details",{style:{marginTop:"1rem"},children:[e.jsx("summary",{style:{cursor:"pointer",fontWeight:"600",color:"var(--primary-color)"},children:"Show Transcript (Korean)"}),e.jsx("div",{style:{marginTop:"0.5rem",padding:"1rem",backgroundColor:"var(--bg-primary)",borderRadius:"var(--border-radius)",fontFamily:"serif",fontSize:"1.1rem",lineHeight:"1.6"},children:a.transcript})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[e.jsx("button",{className:"btn btn-secondary",onClick:K,disabled:r===0,children:"← Previous"}),e.jsxs("span",{style:{fontWeight:"600"},children:["Question ",r+1," of ",a.questions.length]}),e.jsx("button",{className:"btn btn-secondary",onClick:k,disabled:r===a.questions.length-1,children:"Next →"})]}),e.jsxs("div",{className:"question-container",style:{marginBottom:"2rem"},children:[e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsxs("strong",{children:["Question ",r+1,":"]})," ",P.question]}),P.type==="multiple-choice"?e.jsx("div",{style:{marginBottom:"1rem"},children:P.options.map((h,S)=>e.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",padding:"0.75rem",border:`2px solid ${i&&h===P.correctAnswer?"#28a745":i&&h===W&&h!==P.correctAnswer?"#dc3545":"var(--border-color)"}`,borderRadius:"var(--border-radius)",backgroundColor:i&&h===P.correctAnswer?"#d4edda":i&&h===W&&h!==P.correctAnswer?"#f8d7da":"var(--bg-secondary)",cursor:i?"default":"pointer"},children:[e.jsx("input",{type:"radio",name:`question-${r}`,value:h,checked:W===h,onChange:T=>q(r,T.target.value),disabled:i,style:{marginRight:"0.5rem"}}),h]},S))}):e.jsx("input",{type:"text",value:W,onChange:h=>q(r,h.target.value),disabled:i,placeholder:"Type your answer here...",style:{width:"100%",padding:"0.75rem",border:`2px solid ${L?"#28a745":I?"#dc3545":"var(--border-color)"}`,borderRadius:"var(--border-radius)",fontSize:"1rem",backgroundColor:L?"#d4edda":I?"#f8d7da":"white",marginBottom:"1rem"}}),P.hint&&e.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)",fontStyle:"italic",marginBottom:"0.5rem"},children:["💡 Hint: ",P.hint]}),i&&e.jsx("div",{style:{marginTop:"0.5rem",padding:"0.5rem",borderRadius:"var(--border-radius)",backgroundColor:L?"#d4edda":"#f8d7da",border:`1px solid ${L?"#28a745":"#dc3545"}`},children:L?e.jsx("span",{style:{color:"#155724"},children:"✓ Correct!"}):e.jsxs("span",{style:{color:"#721c24"},children:["✗ Incorrect. The correct answer is: ",e.jsx("strong",{children:P.correctAnswer})]})})]}),e.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"2rem"},children:i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{padding:"1rem",textAlign:"center",backgroundColor:f>=70?"#d4edda":"#f8d7da",borderRadius:"var(--border-radius)",border:`1px solid ${f>=70?"#28a745":"#dc3545"}`,marginRight:"1rem"},children:[e.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:["Score: ",f,"%"]}),e.jsx("div",{style:{fontSize:"0.9rem"},children:f>=70?"🎉 Great listening skills!":"👂 Keep practicing!"}),e.jsxs("div",{style:{fontSize:"0.8rem",marginTop:"0.25rem"},children:["Speed used: ",u,"x"]})]}),e.jsx("button",{className:"btn btn-secondary",onClick:R,children:"Try Again"})]}):e.jsx("button",{className:"btn btn-primary",onClick:z,disabled:Object.values(o).some(h=>!h.trim()),children:"Check All Answers"})})]})]})})},Ue=({exercise:a,onComplete:t,onProgress:s})=>{const[r,n]=m.useState(0),[o,l]=m.useState(""),[i,c]=m.useState(null),[f,x]=m.useState(null),[u,g]=m.useState(!1),[j,d]=m.useState([]),[p,y]=m.useState(!1),[v,C]=m.useState(0),[E,B]=m.useState(100),[q]=m.useState(Date.now()),H=m.useRef(null),O=a.texts[r];m.useEffect(()=>{H.current&&H.current.focus()},[r]),m.useEffect(()=>{o.length===1&&!i&&c(Date.now())},[o,i]),m.useEffect(()=>{o===O.korean&&!u&&(x(Date.now()),g(!0),b())},[o,O.korean,u]);const b=()=>{if(!i)return;const L=(Date.now()-i)/1e3/60,h=O.korean.length/5,S=Math.round(h/L),T=j.length,F=O.korean.length,te=Math.round((F-T)/F*100);C(S),B(te)},w=L=>{const I=L.target.value,h=O.korean;if(I.length>h.length)return;l(I);const S=[];for(let T=0;T<I.length;T++)I[T]!==h[T]&&S.push(T);d(S)},D=L=>{if(L.key==="Backspace"){const I=L.target.selectionStart;if(I>0){const h=o[I-1],S=O.korean[I-1];if(h===S)return}}},z=()=>{r<a.texts.length-1?(n(r+1),R()):(y(!0),K())},R=()=>{l(""),c(null),x(null),g(!1),d([]),C(0),B(100),H.current&&H.current.focus()},k=()=>{n(0),R(),y(!1)},K=()=>{const L=Date.now()-q,I=E,h=Math.round((I+Math.min(v*2,100))/2);s&&s({exerciseType:"typing",score:h,timeSpent:L,wpm:v,accuracy:I,textsCompleted:a.texts.length}),h>=70&&t&&t({exerciseType:"typing",score:h,timeSpent:L,wpm:v,accuracy:I})},P=L=>{const I=O.korean[L],h=o[L];return L>=o.length?{backgroundColor:"transparent",color:"var(--text-primary)"}:h===I?{backgroundColor:"#d4edda",color:"#155724"}:{backgroundColor:"#f8d7da",color:"#721c24"}},W=()=>O.korean.split("").map((L,I)=>e.jsx("span",{style:$(A({},P(I)),{padding:"2px 1px",borderRadius:"2px",fontSize:"1.5rem",fontFamily:"serif"}),children:L},I));return e.jsx("div",{className:"exercise-container",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:a.title}),e.jsx("p",{className:"card-subtitle",children:"Practice typing Korean characters and improve your speed and accuracy"})]}),e.jsxs("div",{style:{padding:"1.5rem"},children:[a.instructions&&e.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",backgroundColor:"var(--bg-secondary)",borderRadius:"var(--border-radius)",border:"1px solid var(--border-color)"},children:[e.jsx("strong",{children:"Instructions:"})," ",a.instructions]}),p?e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("div",{style:{padding:"2rem",backgroundColor:E>=80?"#d4edda":"#f8d7da",borderRadius:"var(--border-radius)",border:`1px solid ${E>=80?"#28a745":"#dc3545"}`,marginBottom:"2rem"},children:[e.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"1rem",color:E>=80?"#155724":"#721c24"},children:E>=80?"🎉 Excellent Typing!":"📚 Keep Practicing!"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"1rem",marginTop:"1rem"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:v}),e.jsx("div",{style:{fontSize:"0.9rem"},children:"WPM"})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:[E,"%"]}),e.jsx("div",{style:{fontSize:"0.9rem"},children:"Accuracy"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:a.texts.length}),e.jsx("div",{style:{fontSize:"0.9rem"},children:"Texts Completed"})]})]})]}),e.jsx("button",{className:"btn btn-secondary",onClick:k,children:"Try Again"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:"2rem",textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:"600",marginBottom:"0.5rem"},children:["Text ",r+1," of ",a.texts.length]}),e.jsx("div",{style:{width:"100%",height:"8px",backgroundColor:"var(--border-color)",borderRadius:"4px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${(r+(u?1:o.length/O.korean.length))/a.texts.length*100}%`,height:"100%",backgroundColor:"var(--primary-color)",transition:"width 0.3s ease"}})})]}),e.jsxs("div",{style:{marginBottom:"2rem",padding:"2rem",backgroundColor:"var(--bg-secondary)",borderRadius:"var(--border-radius)",border:"2px solid var(--border-color)",textAlign:"center",lineHeight:"2"},children:[e.jsx("div",{style:{marginBottom:"1rem"},children:e.jsx("strong",{children:"Type this text:"})}),e.jsx("div",{style:{fontSize:"1.5rem",fontFamily:"serif",marginBottom:"1rem"},children:W()}),O.romanization&&e.jsxs("div",{style:{fontSize:"1rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:["Romanization: ",O.romanization]}),O.translation&&e.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:["Translation: ",O.translation]})]}),e.jsx("div",{style:{marginBottom:"2rem"},children:e.jsx("input",{ref:H,type:"text",value:o,onChange:w,onKeyDown:D,placeholder:"Start typing here...",disabled:u,style:{width:"100%",padding:"1rem",fontSize:"1.2rem",fontFamily:"serif",border:`2px solid ${u?"#28a745":j.length>0?"#dc3545":"var(--border-color)"}`,borderRadius:"var(--border-radius)",backgroundColor:u?"#d4edda":"white",outline:"none"}})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[e.jsxs("div",{style:{padding:"1rem",backgroundColor:"var(--bg-secondary)",borderRadius:"var(--border-radius)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--primary-color)"},children:o.length}),e.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Characters"})]}),e.jsxs("div",{style:{padding:"1rem",backgroundColor:"var(--bg-secondary)",borderRadius:"var(--border-radius)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:j.length>0?"#dc3545":"#28a745"},children:j.length}),e.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Errors"})]}),e.jsxs("div",{style:{padding:"1rem",backgroundColor:"var(--bg-secondary)",borderRadius:"var(--border-radius)",textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--primary-color)"},children:[Math.round((o.length-j.length)/Math.max(o.length,1)*100),"%"]}),e.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Accuracy"})]}),i&&e.jsxs("div",{style:{padding:"1rem",backgroundColor:"var(--bg-secondary)",borderRadius:"var(--border-radius)",textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--primary-color)"},children:[Math.round((Date.now()-i)/1e3),"s"]}),e.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:"Time"})]})]}),e.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:u?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{padding:"1rem",textAlign:"center",backgroundColor:"#d4edda",borderRadius:"var(--border-radius)",border:"1px solid #28a745",marginRight:"1rem"},children:[e.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#155724"},children:"✓ Text Completed!"}),e.jsxs("div",{style:{fontSize:"0.9rem",color:"#155724"},children:["WPM: ",v," | Accuracy: ",E,"%"]})]}),r<a.texts.length-1?e.jsx("button",{className:"btn btn-primary",onClick:z,children:"Next Text →"}):e.jsx("button",{className:"btn btn-primary",onClick:z,children:"Complete Exercise"})]}):e.jsx("button",{className:"btn btn-secondary",onClick:R,children:"Reset Current Text"})})]})]})]})})},Qe=({exercise:a,onComplete:t,onProgress:s})=>{const[r,n]=m.useState({}),[o,l]=m.useState(!1),[i,c]=m.useState(0),[f]=m.useState(Date.now());m.useEffect(()=>{const d={};a.questions.forEach((p,y)=>{d[y]=""}),n(d)},[a]);const x=(d,p)=>{n(y=>$(A({},y),{[d]:p}))},u=()=>{const d=a.questions.map((E,B)=>{const q=r[B];return{question:E.question,userAnswer:q,correctAnswer:E.correctAnswer,isCorrect:q===E.correctAnswer}}),p=d.filter(E=>E.isCorrect).length,y=d.length,v=Math.round(p/y*100);c(v),l(!0);const C=Date.now()-f;return s&&s({exerciseType:"quiz",score:v,timeSpent:C,correctAnswers:p,totalQuestions:y}),v>=70&&t&&t({exerciseType:"quiz",score:v,timeSpent:C}),{results:d,score:v,total:y}},g=()=>{const d={};a.questions.forEach((p,y)=>{d[y]=""}),n(d),l(!1),c(0)},j=()=>a.questions.every((d,p)=>r[p]);return e.jsxs("div",{style:{padding:"2rem"},children:[e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("h3",{children:a.title}),a.instructions&&e.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"1.5rem",fontSize:"0.95rem"},children:a.instructions})]}),o?e.jsxs("div",{className:"quiz-results",children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem",padding:"1.5rem",backgroundColor:i>=70?"var(--success-light)":"var(--warning-light)",borderRadius:"var(--border-radius)",border:`2px solid ${i>=70?"var(--success)":"var(--warning)"}`},children:[e.jsxs("h4",{style:{color:i>=70?"var(--success-dark)":"var(--warning-dark)",marginBottom:"0.5rem"},children:["Quiz Results: ",i,"%"]}),e.jsxs("p",{style:{color:i>=70?"var(--success-dark)":"var(--warning-dark)",margin:0},children:[a.questions.filter((d,p)=>r[p]===a.questions[p].correctAnswer).length," out of ",a.questions.length," correct"]})]}),e.jsx("div",{style:{marginBottom:"2rem"},children:a.questions.map((d,p)=>{const y=r[p],v=y===d.correctAnswer;return e.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1.5rem",border:`2px solid ${v?"var(--success)":"var(--error)"}`,borderRadius:"var(--border-radius)",backgroundColor:v?"var(--success-light)":"var(--error-light)"},children:[e.jsxs("p",{style:{fontWeight:"bold",marginBottom:"0.5rem"},children:[e.jsxs("strong",{children:["Q",p+1,":"]})," ",d.question]}),e.jsxs("p",{style:{marginBottom:"0.5rem"},children:[e.jsx("strong",{children:"Your answer:"}),e.jsx("span",{style:{color:v?"var(--success-dark)":"var(--error-dark)",marginLeft:"0.5rem"},children:y||"No answer"})]}),e.jsxs("p",{style:{margin:0},children:[e.jsx("strong",{children:"Correct answer:"}),e.jsx("span",{style:{color:"var(--success-dark)",marginLeft:"0.5rem"},children:d.correctAnswer})]})]},p)})}),e.jsx("div",{style:{textAlign:"center"},children:e.jsx("button",{onClick:g,style:{padding:"1rem 2rem",fontSize:"1.1rem",backgroundColor:"var(--secondary)",color:"white",border:"none",borderRadius:"var(--border-radius)",cursor:"pointer",transition:"all 0.2s ease"},"aria-label":"Try the quiz again",children:"Try Again"})})]}):e.jsxs("div",{className:"quiz-questions",children:[a.questions.map((d,p)=>e.jsxs("div",{style:{marginBottom:"2rem",padding:"1.5rem",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius)",backgroundColor:"var(--bg-secondary)"},children:[e.jsxs("h5",{style:{marginBottom:"1rem"},children:["Question ",p+1,": ",d.question]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:d.options.map((y,v)=>e.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",padding:"0.75rem",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius)",backgroundColor:r[p]===y?"var(--primary-light)":"white",transition:"all 0.2s ease"},children:[e.jsx("input",{type:"radio",name:`question-${p}`,value:y,onChange:C=>x(p,C.target.value),checked:r[p]===y,style:{marginRight:"0.75rem"},"aria-label":`Option ${v+1} for question ${p+1}`}),e.jsx("span",{children:y})]},v))})]},p)),e.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:e.jsx("button",{onClick:u,disabled:!j(),style:{padding:"1rem 2rem",fontSize:"1.1rem",backgroundColor:j()?"var(--primary)":"var(--text-disabled)",color:"white",border:"none",borderRadius:"var(--border-radius)",cursor:j()?"pointer":"not-allowed",transition:"all 0.2s ease"},"aria-label":"Check your answers",children:"Check Answers"})})]})]})},Ge=({exercise:a,onComplete:t,onProgress:s})=>{const[r,n]=m.useState(0),[o,l]=m.useState(!1),[i,c]=m.useState(new Set),[f]=m.useState(Date.now());m.useEffect(()=>{n(0),l(!1),c(new Set)},[a]),m.useEffect(()=>{o&&c(y=>new Set([...y,r]))},[o,r]),m.useEffect(()=>{if(i.size===a.cards.length&&a.cards.length>0){const y=Date.now()-f;s&&s({exerciseType:"flashcard",score:100,timeSpent:y,cardsViewed:i.size,totalCards:a.cards.length}),t&&t({exerciseType:"flashcard",score:100,timeSpent:y})}},[i,a.cards.length,t,s,f]);const x=()=>{r<a.cards.length-1&&(n(y=>y+1),l(!1))},u=()=>{r>0&&(n(y=>y-1),l(!1))},g=()=>{l(y=>!y)},j=y=>{n(y),l(!1)};if(!a.cards||a.cards.length===0)return e.jsxs("div",{style:{padding:"2rem",textAlign:"center"},children:[e.jsx("h3",{children:a.title}),e.jsx("p",{children:"No flashcards available for this exercise."})]});const d=a.cards[r],p=Math.round(i.size/a.cards.length*100);return e.jsxs("div",{style:{padding:"2rem"},children:[e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("h3",{children:a.title}),a.instructions&&e.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"1.5rem",fontSize:"0.95rem"},children:a.instructions})]}),e.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",backgroundColor:"var(--bg-secondary)",borderRadius:"var(--border-radius)",border:"1px solid var(--border-color)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[e.jsxs("span",{style:{fontWeight:"bold"},children:["Card ",r+1," of ",a.cards.length]}),e.jsxs("span",{style:{color:p===100?"var(--success-dark)":"var(--text-secondary)",fontWeight:p===100?"bold":"normal"},children:[p,"% Complete"]})]}),e.jsx("div",{style:{width:"100%",height:"8px",backgroundColor:"var(--border-color)",borderRadius:"4px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${p}%`,height:"100%",backgroundColor:p===100?"var(--success)":"var(--primary)",transition:"width 0.3s ease"}})})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[e.jsx("button",{onClick:u,disabled:r===0,style:{padding:"0.75rem 1.5rem",backgroundColor:r===0?"var(--text-disabled)":"var(--secondary)",color:"white",border:"none",borderRadius:"var(--border-radius)",cursor:r===0?"not-allowed":"pointer",transition:"all 0.2s ease"},"aria-label":"Previous flashcard",children:"← Previous"}),e.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:a.cards.map((y,v)=>e.jsx("button",{onClick:()=>j(v),style:{width:"12px",height:"12px",borderRadius:"50%",border:"none",backgroundColor:v===r?"var(--primary)":i.has(v)?"var(--success)":"var(--border-color)",cursor:"pointer",transition:"all 0.2s ease"},"aria-label":`Go to card ${v+1}`},v))}),e.jsx("button",{onClick:x,disabled:r===a.cards.length-1,style:{padding:"0.75rem 1.5rem",backgroundColor:r===a.cards.length-1?"var(--text-disabled)":"var(--secondary)",color:"white",border:"none",borderRadius:"var(--border-radius)",cursor:r===a.cards.length-1?"not-allowed":"pointer",transition:"all 0.2s ease"},"aria-label":"Next flashcard",children:"Next →"})]}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"2rem"},children:e.jsx("div",{onClick:g,style:{width:"100%",maxWidth:"500px",height:"300px",perspective:"1000px",cursor:"pointer"},role:"button",tabIndex:0,onKeyDown:y=>{(y.key==="Enter"||y.key===" ")&&(y.preventDefault(),g())},"aria-label":`Flashcard ${r+1}. Click to flip. Currently showing ${o?"back":"front"}.`,children:e.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",transformStyle:"preserve-3d",transform:o?"rotateY(180deg)":"rotateY(0deg)",transition:"transform 0.6s ease"},children:[e.jsx("div",{style:{position:"absolute",width:"100%",height:"100%",backfaceVisibility:"hidden",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"white",border:"2px solid var(--primary)",borderRadius:"var(--border-radius)",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",padding:"2rem",fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",color:"var(--text-primary)"},children:d.front}),e.jsx("div",{style:{position:"absolute",width:"100%",height:"100%",backfaceVisibility:"hidden",transform:"rotateY(180deg)",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--primary-light)",border:"2px solid var(--primary)",borderRadius:"var(--border-radius)",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",padding:"2rem",fontSize:"1.3rem",textAlign:"center",color:"var(--primary-dark)"},children:d.back})]})})}),e.jsxs("div",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"0.9rem",marginBottom:"1rem"},children:[e.jsx("p",{children:"Click the card to flip it"}),e.jsx("p",{children:"Use the navigation buttons or dots to move between cards"})]}),p===100&&e.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"var(--success-light)",border:"2px solid var(--success)",borderRadius:"var(--border-radius)",color:"var(--success-dark)"},children:[e.jsx("h4",{style:{margin:"0 0 0.5rem 0"},children:"🎉 Congratulations!"}),e.jsxs("p",{style:{margin:0},children:["You've viewed all ",a.cards.length," flashcards!"]})]})]})},Ve=[{id:"lesson-001",title:"Introduction to Hangul",level:"beginner",category:"pronunciation",description:"Learn the basics of the Korean alphabet.",prerequisites:[],nextLessons:["lesson-002"],estimatedTime:15,culturalContext:{historicalBackground:"Hangul was created by King Sejong the Great in 1443 during the Joseon Dynasty. Before Hangul, Koreans used Chinese characters (Hanja), which were difficult for common people to learn. King Sejong wanted to create a writing system that would be accessible to all social classes.",culturalSignificance:"Hangul Day (한글날) is celebrated on October 9th in South Korea to honor the creation of the Korean alphabet. The creation of Hangul is considered one of the greatest achievements in Korean history and represents the democratic ideals of making literacy accessible to everyone.",modernRelevance:"Today, Hangul is praised by linguists worldwide for its scientific design. UNESCO has established the King Sejong Literacy Prize in honor of the Korean alphabet's contribution to global literacy.",etiquette:"When writing Korean, it's important to maintain proper stroke order and character proportions. In formal situations, using correct Hangul spelling and avoiding excessive use of English loanwords shows respect for Korean culture."},content:{text:`Hangul is the Korean alphabet, created by King Sejong in 1443. It is considered one of the most scientific writing systems in the world.

The Korean alphabet consists of 14 basic consonants and 10 basic vowels. These letters are combined to form syllable blocks, which make up Korean words.

In this lesson, we'll introduce you to the basic structure of Hangul and show you how Korean characters are formed.`,examples:[{korean:"ㄱ",romanization:"g/k",translation:"Consonant G/K",audio:"/assets/audio/g.mp3"},{korean:"ㄴ",romanization:"n",translation:"Consonant N",audio:"/assets/audio/n.mp3"},{korean:"ㅏ",romanization:"a",translation:"Vowel A",audio:"/assets/audio/a.mp3"}],media:{image:"/assets/images/hangul-chart.jpg",video:null}},exercises:[{type:"quiz",title:"Hangul Recognition Quiz",questions:[{question:"Which letter represents 'g/k'?",options:["ㄱ","ㄴ","ㄷ","ㄹ"],correctAnswer:"ㄱ"},{question:"What does 'ㅏ' represent?",options:["Consonant","Vowel A","Vowel O","Silent letter"],correctAnswer:"Vowel A"}]},{type:"flashcard",title:"Character Flashcards",cards:[{front:"ㄱ",back:"g/k"},{front:"ㄴ",back:"n"},{front:"ㅏ",back:"a"}]},{type:"pronunciation",title:"Pronunciation Practice",audio:"/assets/audio/hangul-sounds.mp3",text:"ㄱ, ㄴ, ㅏ",instructions:"Repeat after the audio."}]},{id:"lesson-002",title:"Vowels and Consonants",level:"beginner",category:"pronunciation",description:"Learn the complete set of Korean vowels and consonants.",prerequisites:["lesson-001"],nextLessons:["lesson-003"],estimatedTime:20,content:{text:`Now that you understand the basics of Hangul, let's explore all the vowels and consonants in detail.

Korean has 14 basic consonants and 10 basic vowels. There are also compound vowels and double consonants that we'll cover in later lessons.

Each character has a specific shape and sound, and understanding these will help you read Korean words.`,examples:[{korean:"ㅂ",romanization:"b/p",translation:"Consonant B/P",audio:"/assets/audio/b.mp3"},{korean:"ㅓ",romanization:"eo",translation:"Vowel EO",audio:"/assets/audio/eo.mp3"},{korean:"ㅗ",romanization:"o",translation:"Vowel O",audio:"/assets/audio/o.mp3"}],media:{image:"/assets/images/vowels-consonants.jpg",video:null}},exercises:[{type:"quiz",title:"Vowel and Consonant Quiz",questions:[{question:"Which is a vowel?",options:["ㅂ","ㅓ","ㄱ","ㄴ"],correctAnswer:"ㅓ"}]},{type:"flashcard",title:"More Characters",cards:[{front:"ㅂ",back:"b/p"},{front:"ㅓ",back:"eo"}]},{type:"typing",title:"Korean Character Typing Practice",instructions:"Practice typing Korean vowels and consonants. Focus on accuracy first, then speed will come naturally.",texts:[{korean:"ㄱㄴㄷㄹㅁㅂㅅㅇㅈㅊㅋㅌㅍㅎ",romanization:"g/k n d/t r/l m b/p s ng j ch k t p h",translation:"Basic Korean consonants"},{korean:"ㅏㅑㅓㅕㅗㅛㅜㅠㅡㅣ",romanization:"a ya eo yeo o yo u yu eu i",translation:"Basic Korean vowels"},{korean:"가나다라마바사아자차카타파하",romanization:"ga na da ra ma ba sa a ja cha ka ta pa ha",translation:"Korean syllables with 'a' vowel"},{korean:"고노도로모보소오조초코토포호",romanization:"go no do ro mo bo so o jo cho ko to po ho",translation:"Korean syllables with 'o' vowel"}]}]},{id:"lesson-003",title:"Reading Practice",level:"beginner",category:"pronunciation",description:"Practice reading simple Korean syllables.",prerequisites:["lesson-002"],nextLessons:["lesson-004"],estimatedTime:25,content:{text:`Now let's put together what we've learned and start reading Korean syllables.

Korean syllables are formed by combining consonants and vowels in specific patterns. The most basic pattern is consonant + vowel.

Let's practice reading some simple syllables.`,examples:[{korean:"가",romanization:"ga",translation:"GA syllable",audio:"/assets/audio/ga.mp3"},{korean:"나",romanization:"na",translation:"NA syllable",audio:"/assets/audio/na.mp3"},{korean:"바",romanization:"ba",translation:"BA syllable",audio:"/assets/audio/ba.mp3"}],media:{image:"/assets/images/syllable-formation.jpg",video:null}},exercises:[{type:"quiz",title:"Syllable Reading Quiz",questions:[{question:"How do you read '가'?",options:["ga","ka","na","ba"],correctAnswer:"ga"}]},{type:"listening",title:"Korean Syllable Listening",instructions:"Listen to the Korean syllables and answer the comprehension questions. You can adjust the playback speed if needed.",audioUrl:"/assets/audio/syllables-practice.mp3",transcript:"가, 나, 바, 다, 라, 마, 사",questions:[{question:"Which syllable did you hear first?",type:"multiple-choice",options:["가","나","바","다"],correctAnswer:"가",hint:"Listen carefully to the beginning of the audio"},{question:"How many different syllables were pronounced?",type:"text",correctAnswer:"7",hint:"Count each distinct syllable sound"},{question:"Which syllable sounds like 'ma'?",type:"multiple-choice",options:["가","나","바","마"],correctAnswer:"마",hint:"Think about the romanization of each syllable"}]}]},{id:"lesson-004",title:"Basic Greetings",level:"beginner",category:"vocabulary",description:"Learn essential Korean greetings for daily use.",prerequisites:["lesson-003"],nextLessons:["lesson-005"],estimatedTime:18,culturalContext:{historicalBackground:"Korean greeting customs have been shaped by Confucian values emphasizing respect for hierarchy and social harmony. The concept of 'nunchi' (눈치) - social awareness and sensitivity - plays a crucial role in choosing appropriate greetings.",culturalSignificance:"Greetings in Korea are not just words but expressions of respect and social positioning. The level of formality used indicates the relationship between speakers and shows cultural awareness.",socialNorms:"Always bow slightly when greeting, especially to elders or superiors. The depth of the bow indicates the level of respect. Use formal language (존댓말) with people older than you, in higher positions, or when meeting for the first time.",etiquette:"When greeting in business settings, exchange business cards with both hands and a slight bow. In casual settings with friends, informal greetings are acceptable. Always respond to greetings - ignoring them is considered very rude.",modernUsage:"While traditional bowing is still important, handshakes are becoming more common in business contexts. However, combining a handshake with a slight bow shows cultural sensitivity."},content:{text:`Now that you can read basic Korean characters, let's learn some essential greetings.

Greetings are fundamental to Korean culture and show respect and politeness. Korean has different levels of formality, which we'll explore.

Let's start with the most common greetings you'll use every day.`,examples:[{korean:"안녕하세요",romanization:"annyeonghaseyo",translation:"Hello (formal)",audio:"/assets/audio/annyeonghaseyo.mp3"},{korean:"안녕",romanization:"annyeong",translation:"Hello (informal)",audio:"/assets/audio/annyeong.mp3"},{korean:"감사합니다",romanization:"gamsahamnida",translation:"Thank you (formal)",audio:"/assets/audio/gamsahamnida.mp3"}],media:{image:"/assets/images/greetings.jpg",video:null}},exercises:[{type:"quiz",title:"Greetings Quiz",questions:[{question:"How do you say 'Hello' formally in Korean?",options:["안녕","안녕하세요","감사합니다","안녕히가세요"],correctAnswer:"안녕하세요"}]},{type:"flashcard",title:"Greeting Flashcards",cards:[{front:"안녕하세요",back:"Hello (formal)"},{front:"감사합니다",back:"Thank you (formal)"}]},{type:"fill-in-the-blank",title:"Complete the Greetings",instructions:"Fill in the blanks with the correct Korean greeting words.",questions:[{sentence:"___하세요! (Hello formally)",correctAnswer:"안녕",hint:"This is the formal way to say hello",translation:"Hello! (formal greeting)"},{sentence:"___합니다. (Thank you formally)",correctAnswer:"감사",hint:"This expresses gratitude formally",translation:"Thank you. (formal thanks)"},{sentence:"___! (Hello informally)",correctAnswer:"안녕",hint:"This is the casual way to say hello",translation:"Hello! (informal greeting)"}]}]},{id:"lesson-005",title:"Introducing Yourself",level:"beginner",category:"vocabulary",description:"Learn how to introduce yourself in Korean.",prerequisites:["lesson-004"],nextLessons:[],estimatedTime:22,content:{text:`Being able to introduce yourself is essential when meeting new people in Korea.

In this lesson, we'll learn key phrases for self-introduction, including how to say your name, where you're from, and basic personal information.

Remember to use appropriate formality levels based on the situation.`,examples:[{korean:"제 이름은",romanization:"je ireumeun",translation:"My name is",audio:"/assets/audio/je-ireumeun.mp3"},{korean:"저는",romanization:"jeoneun",translation:"I am (formal)",audio:"/assets/audio/jeoneun.mp3"},{korean:"만나서 반갑습니다",romanization:"mannaseo bangapseumnida",translation:"Nice to meet you",audio:"/assets/audio/mannaseo-bangapseumnida.mp3"}],media:{image:"/assets/images/introduction.jpg",video:null}},exercises:[{type:"quiz",title:"Introduction Quiz",questions:[{question:"How do you say 'My name is' in Korean?",options:["저는","제 이름은","안녕하세요","감사합니다"],correctAnswer:"제 이름은"}]},{type:"flashcard",title:"Introduction Phrases",cards:[{front:"제 이름은",back:"My name is"},{front:"만나서 반갑습니다",back:"Nice to meet you"}]},{type:"drag-drop",title:"Construct Introduction Sentences",instructions:"Drag and drop the words to create correct Korean introduction sentences.",questions:[{instruction:"Create a sentence meaning 'My name is Kim'",words:["제","이름은","김","입니다"],correctOrder:["제","이름은","김","입니다"],translation:"My name is Kim",context:"Formal self-introduction"},{instruction:"Create a sentence meaning 'Nice to meet you'",words:["만나서","반갑습니다"],correctOrder:["만나서","반갑습니다"],translation:"Nice to meet you",context:"Polite greeting when meeting someone"},{instruction:"Create a sentence meaning 'I am a student'",words:["저는","학생","입니다"],correctOrder:["저는","학생","입니다"],translation:"I am a student",context:"Describing your occupation"}]}]},{id:"lesson-006",title:"Korean Cultural Traditions",level:"intermediate",category:"culture",description:"Explore Korean cultural traditions, holidays, and customs.",prerequisites:["lesson-005"],nextLessons:["lesson-007"],estimatedTime:30,culturalContext:{historicalBackground:"Korean cultural traditions have been shaped by thousands of years of history, influenced by Confucianism, Buddhism, and Shamanism. Many traditions emphasize family harmony, respect for elders, and seasonal celebrations.",culturalSignificance:"Understanding Korean traditions helps build deeper connections with Korean people and shows respect for their heritage. Many traditions are still actively practiced in modern Korea.",socialNorms:"Participating in or acknowledging Korean traditions shows cultural sensitivity. During holidays like Chuseok or Seollal, it's important to understand the customs around family gatherings and ancestral rituals.",etiquette:"When invited to traditional celebrations, dress modestly and follow the lead of your hosts. Bringing appropriate gifts and showing interest in the cultural significance demonstrates respect.",modernRelevance:"While Korea has modernized rapidly, traditional values remain important. Many young Koreans still observe traditional holidays and customs, often blending them with contemporary practices."},content:{text:`Korean culture is rich with traditions that have been passed down through generations. Understanding these traditions will help you connect more deeply with Korean society and language.

In this lesson, we'll explore major Korean holidays, traditional customs, and their modern significance. We'll also learn vocabulary related to cultural practices.`,examples:[{korean:"추석",romanization:"chuseok",translation:"Korean Thanksgiving (Autumn Festival)",audio:"/assets/audio/chuseok.mp3",culturalNote:"Chuseok is one of the most important Korean holidays, when families gather to honor ancestors and share traditional foods."},{korean:"설날",romanization:"seollal",translation:"Korean New Year",audio:"/assets/audio/seollal.mp3",culturalNote:"Seollal marks the beginning of the lunar new year and involves traditional games, foods, and ancestral ceremonies."},{korean:"한복",romanization:"hanbok",translation:"Traditional Korean clothing",audio:"/assets/audio/hanbok.mp3",culturalNote:"Hanbok represents Korean aesthetic values and is still worn during special occasions and traditional ceremonies."},{korean:"김치",romanization:"kimchi",translation:"Fermented vegetable dish",audio:"/assets/audio/kimchi.mp3",culturalNote:"Kimchi is not just food but a cultural symbol representing Korean ingenuity in food preservation and communal preparation traditions."}],media:{image:"/assets/images/korean-traditions.jpg",video:"/assets/videos/chuseok-celebration.mp4",culturalArticles:[{title:"The Significance of Chuseok in Modern Korea",url:"/assets/articles/chuseok-modern-korea.html",summary:"How traditional harvest festivals adapt to contemporary Korean society"},{title:"Hanbok: Traditional Dress in the Digital Age",url:"/assets/articles/hanbok-digital-age.html",summary:"The revival and modernization of Korean traditional clothing"}],music:[{title:"Traditional Korean Folk Song - Arirang",url:"/assets/audio/arirang-traditional.mp3",description:"Korea's most famous folk song, representing the Korean spirit and cultural identity"}]}},exercises:[{type:"cultural-quiz",title:"Korean Traditions Quiz",questions:[{question:"What is the most important activity during Chuseok?",options:["Shopping","Honoring ancestors","Watching TV","Working"],correctAnswer:"Honoring ancestors",culturalExplanation:"Chuseok is primarily about family reunions and ancestral ceremonies called 'charye', where families prepare special foods and pay respects to deceased family members."},{question:"When is it most appropriate to wear hanbok?",options:["Every day","Only in museums","Special occasions and holidays","Never"],correctAnswer:"Special occasions and holidays",culturalExplanation:"While hanbok was daily wear historically, today it's worn during traditional holidays, weddings, coming-of-age ceremonies, and cultural events."},{question:"What does kimchi represent in Korean culture beyond being food?",options:["Nothing special","Community and tradition","Wealth","Modern technology"],correctAnswer:"Community and tradition",culturalExplanation:"Kimchi-making (kimjang) is a communal activity that brings families and communities together, representing cooperation, preparation for winter, and cultural continuity."}]},{type:"cultural-matching",title:"Match Traditions with Their Meanings",instructions:"Match each Korean tradition with its cultural significance.",pairs:[{tradition:"세배 (sebae)",meaning:"New Year bow to elders",explanation:"A formal bow performed on New Year's Day to show respect to elders and receive blessings for the new year"},{tradition:"차례 (charye)",meaning:"Ancestral ceremony",explanation:"A ritual performed during major holidays to honor deceased family members with food offerings and prayers"},{tradition:"윷놀이 (yutnori)",meaning:"Traditional board game",explanation:"A family game played during holidays that brings generations together and represents Korean values of strategy and luck"}]},{type:"media-comprehension",title:"Cultural Media Analysis",instructions:"Watch the Chuseok celebration video and answer questions about Korean cultural practices.",mediaUrl:"/assets/videos/chuseok-celebration.mp4",questions:[{question:"What foods are typically prepared for Chuseok?",type:"multiple-select",options:["송편 (songpyeon)","불고기 (bulgogi)","피자 (pizza)","전 (jeon)"],correctAnswers:["송편 (songpyeon)","전 (jeon)"],explanation:"Songpyeon (rice cakes) and jeon (Korean pancakes) are traditional Chuseok foods, while bulgogi might be served but pizza is not traditional."},{question:"How do family members show respect during the ancestral ceremony?",type:"text",correctAnswer:"bowing",explanation:"Family members perform deep bows (절) as a sign of respect and remembrance for their ancestors."}]}]},{id:"lesson-007",title:"Korean Business Culture & Modern Society",level:"advanced",category:"business-culture",description:"Navigate Korean workplace culture, business etiquette, and modern social dynamics.",prerequisites:["lesson-006"],nextLessons:[],estimatedTime:45,culturalContext:{historicalBackground:"Korean business culture has evolved from traditional Confucian hierarchies combined with rapid industrialization since the 1960s. The concept of 'jeong' (정) - emotional bonds and loyalty - remains central to business relationships.",culturalSignificance:"Understanding Korean business culture is crucial for professional success in Korea. The balance between traditional respect and modern efficiency defines contemporary Korean workplaces.",socialNorms:"Hierarchy is still important but becoming more flexible. Age, position, and company seniority determine interaction styles. Building personal relationships ('인맥' - inmak) is often as important as professional competence.",etiquette:"Business cards are exchanged with both hands and a bow. Drinking culture ('회식' - hoesik) is important for team bonding. Dress conservatively and arrive early to meetings. Never refuse a senior's invitation to dinner or drinks.",modernRelevance:"Younger generations are changing workplace dynamics, introducing more casual communication and work-life balance concepts while maintaining core respect principles."},content:{text:`Korean business culture blends traditional Confucian values with modern global practices. Success in Korean professional environments requires understanding both formal protocols and informal relationship-building.

This advanced lesson covers essential business vocabulary, workplace etiquette, and cultural nuances that will help you navigate Korean professional settings effectively.`,examples:[{korean:"회사",romanization:"hoesa",translation:"company",audio:"/assets/audio/hoesa.mp3",culturalNote:"Korean companies often function like extended families, with strong loyalty expectations and hierarchical relationships."},{korean:"상사",romanization:"sangsa",translation:"boss/superior",audio:"/assets/audio/sangsa.mp3",culturalNote:"The relationship with your 상사 is crucial in Korean workplaces. Showing proper respect and building trust is essential for career advancement."},{korean:"회식",romanization:"hoesik",translation:"company dinner/drinking gathering",audio:"/assets/audio/hoesik.mp3",culturalNote:"회식 is not just socializing but an important part of team building and business relationship development. Attendance is often expected."},{korean:"눈치",romanization:"nunchi",translation:"social awareness/reading the room",audio:"/assets/audio/nunchi.mp3",culturalNote:"눈치 is a crucial skill in Korean business - the ability to sense unspoken feelings and social dynamics in professional situations."},{korean:"워라밸",romanization:"worabaek",translation:"work-life balance",audio:"/assets/audio/worabaek.mp3",culturalNote:"A modern concept gaining popularity among younger Korean workers, challenging traditional long-hour work culture."}],media:{image:"/assets/images/korean-business-culture.jpg",video:"/assets/videos/korean-workplace-etiquette.mp4",culturalArticles:[{title:"The Evolution of Korean Corporate Culture",url:"/assets/articles/korean-corporate-evolution.html",summary:"How Korean businesses are adapting traditional hierarchies to modern global practices"},{title:"Nunchi: The Korean Art of Social Intelligence",url:"/assets/articles/nunchi-business-success.html",summary:"Understanding and developing nunchi for professional success in Korea"},{title:"Generation Gap in Korean Workplaces",url:"/assets/articles/korean-workplace-generations.html",summary:"How different generations navigate changing workplace cultures in Korea"}],music:[{title:"Modern Korean Business Podcast",url:"/assets/audio/korean-business-podcast.mp3",description:"Interviews with Korean business leaders discussing modern workplace culture"}]}},exercises:[{type:"scenario-analysis",title:"Business Situation Analysis",instructions:"Analyze these Korean business scenarios and choose the most culturally appropriate response.",scenarios:[{situation:"Your Korean boss invites you to 회식 (company dinner) but you have personal plans.",options:["Politely decline and explain your personal plans","Accept the invitation and reschedule your personal plans","Suggest meeting another time","Ask if you can bring your family"],correctAnswer:"Accept the invitation and reschedule your personal plans",explanation:"In Korean business culture, 회식 invitations from superiors are rarely optional. They're important for team bonding and showing commitment to the company. Declining could be seen as disrespectful or showing lack of team spirit.",culturalInsight:"Building relationships through shared meals and drinks is fundamental to Korean business success."},{situation:"During a meeting, you disagree with your senior colleague's proposal.",options:["Immediately voice your disagreement","Wait until after the meeting to discuss privately","Ask clarifying questions to indirectly express concerns","Stay silent and implement their proposal"],correctAnswer:"Ask clarifying questions to indirectly express concerns",explanation:"Direct confrontation in meetings can cause loss of face. Using questions to guide discussion allows for face-saving while still addressing concerns.",culturalInsight:"Preserving harmony and face (체면) is more important than being directly right in Korean business culture."}]},{type:"cultural-vocabulary",title:"Business Korean Vocabulary",instructions:"Match advanced business terms with their cultural contexts.",terms:[{korean:"선배",romanization:"seonbae",translation:"senior colleague",culturalContext:"Someone who joined the company before you, regardless of age. This relationship involves mentorship and respect obligations.",usageExample:"Always greet your 선배 first and show proper respect in meetings."},{korean:"후배",romanization:"hubae",translation:"junior colleague",culturalContext:"Someone who joined after you. You have mentorship responsibilities and they should show you respect.",usageExample:"Help your 후배 understand company culture and procedures."},{korean:"인맥",romanization:"inmak",translation:"personal network/connections",culturalContext:"Professional and personal relationships that can influence business success. Building 인맥 is crucial for career advancement.",usageExample:"Strong 인맥 often matters more than individual achievement in Korean business."}]},{type:"role-play",title:"Business Meeting Simulation",instructions:"Practice appropriate responses in Korean business meeting scenarios.",rolePlayScenarios:[{context:"You're presenting a project proposal to senior executives",yourRole:"Project manager",situation:"The CEO asks a challenging question about your timeline",appropriateResponses:["죄송합니다. 다시 검토해보겠습니다. (I apologize. I will review this again.)","좋은 지적입니다. 추가로 고려하겠습니다. (That's a good point. I will consider it further.)"],inappropriateResponses:["그건 제 책임이 아닙니다. (That's not my responsibility.)","그 질문은 관련이 없습니다. (That question is irrelevant.)"],culturalGuidance:"Always show humility and willingness to improve, even when you believe you're correct."}]}],feedback:{enabled:!0,categories:["content-accuracy","cultural-relevance","difficulty-level","engagement"],questions:[{id:"cultural-accuracy",question:"How accurately did this lesson represent Korean business culture?",type:"rating",scale:5},{id:"practical-usefulness",question:"How useful is this content for real business situations?",type:"rating",scale:5},{id:"difficulty-appropriate",question:"Was the difficulty level appropriate for advanced learners?",type:"boolean"},{id:"additional-topics",question:"What other Korean business culture topics would you like to learn about?",type:"text"}]},version:"1.0",lastUpdated:"2025-07-25",contentMetrics:{engagementTracking:!0,completionTracking:!0,difficultyAnalytics:!0,culturalAccuracyFeedback:!0}}],Je={lessons:Ve},Ye=()=>{const{lessonId:a}=Ce(),[t,s]=m.useState(null),[r,n]=m.useState(null),[o,l]=m.useState({});m.useEffect(()=>{const g=Je.lessons.find(j=>j.id===a);g&&s(g)},[a]);const i=g=>{console.log("Exercise completed:",g),l(j=>$(A({},j),{[r.type]:$(A({},g),{completedAt:new Date().toISOString()})}))},c=g=>{console.log("Exercise progress:",g)},f=g=>{n(g)},x=()=>{n(null)};if(!t)return e.jsx("div",{className:"page-container",children:e.jsx("div",{className:"card",children:e.jsxs("div",{style:{padding:"2rem",textAlign:"center"},children:[e.jsx("h2",{children:"Lesson not found"}),e.jsx("p",{children:"The requested lesson could not be found."}),e.jsx(M,{to:"/lessons",className:"btn btn-primary",children:"Back to Lessons"})]})})});const u=g=>{console.log("Playing audio:",g)};return e.jsxs("div",{className:"page-container",children:[e.jsxs("div",{className:"page-header",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[e.jsx(M,{to:"/lessons",className:"btn btn-secondary",children:"← Back to Lessons"}),e.jsx("span",{className:"badge badge-success",children:t.level}),e.jsx("span",{className:"badge badge-warning",children:t.category})]}),e.jsx("h1",{className:"page-title",children:t.title}),e.jsx("p",{className:"page-description",children:t.description})]}),e.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[e.jsx("div",{className:"card-header",children:e.jsx("h2",{className:"card-title",children:"Lesson Content"})}),e.jsx("div",{style:{whiteSpace:"pre-line",lineHeight:"1.8",color:"var(--text-primary)",marginBottom:"2rem"},children:t.content.text}),t.content.media.image&&e.jsx("div",{style:{marginBottom:"2rem"},children:e.jsx("img",{src:t.content.media.image,alt:"Lesson illustration",style:{maxWidth:"100%",height:"auto",borderRadius:"var(--border-radius)",border:"1px solid var(--border-color)"},onError:g=>{g.target.style.display="none"}})})]}),e.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h2",{className:"card-title",children:"Examples"}),e.jsx("p",{className:"card-subtitle",children:"Click the audio button to hear pronunciation"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:t.content.examples.map((g,j)=>e.jsxs("div",{style:{border:"1px solid var(--border-color)",borderRadius:"var(--border-radius)",padding:"1.5rem",backgroundColor:"var(--bg-secondary)",textAlign:"center"},children:[e.jsx("div",{className:"korean-text",style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"0.5rem",color:"var(--primary-color)"},children:g.korean}),e.jsx("div",{style:{fontSize:"1rem",color:"var(--text-secondary)",marginBottom:"0.25rem"},children:g.romanization}),e.jsx("div",{style:{fontSize:"0.875rem",color:"var(--text-muted)",marginBottom:"1rem"},children:g.translation}),e.jsx("button",{className:"btn btn-outline",onClick:()=>u(g.audio),style:{fontSize:"0.75rem",padding:"0.5rem 1rem"},children:"🔊 Play Audio"})]},j))})]}),e.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h2",{className:"card-title",children:"Practice Exercises"}),e.jsx("p",{className:"card-subtitle",children:"Test your understanding with these interactive exercises"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:t.exercises.map((g,j)=>e.jsxs("div",{style:{border:"1px solid var(--border-color)",borderRadius:"var(--border-radius)",padding:"1.5rem",backgroundColor:"var(--bg-secondary)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:g.type==="quiz"?"📝":g.type==="flashcard"?"🃏":g.type==="fill-in-the-blank"?"✏️":g.type==="drag-drop"?"🧩":g.type==="listening"?"🎧":g.type==="typing"?"⌨️":"🎤"}),e.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"0.5rem",color:"var(--text-primary)"},children:g.title}),o[g.type]&&e.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--success-color)",marginBottom:"0.5rem"},children:["✓ Completed (",o[g.type].score,"%)"]}),e.jsx("button",{className:"btn btn-primary",style:{fontSize:"0.75rem",padding:"0.5rem 1rem"},onClick:()=>f(g),children:o[g.type]?"Practice Again":"Start Exercise"})]},j))})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("button",{className:"btn btn-secondary",disabled:!0,children:"← Previous Lesson"}),e.jsx("div",{style:{textAlign:"center"},children:e.jsx("button",{className:"btn btn-primary",children:"Mark as Complete"})}),e.jsx(M,{to:"/lessons/lesson-002",className:"btn btn-secondary",children:"Next Lesson →"})]})}),r&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:e.jsxs("div",{style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--border-radius)",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflow:"auto",position:"relative"},children:[e.jsx("button",{onClick:x,style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",zIndex:1001,color:"var(--text-primary)"},children:"✕"}),r.type==="fill-in-the-blank"&&e.jsx(qe,{exercise:r,onComplete:i,onProgress:c}),r.type==="drag-drop"&&e.jsx(He,{exercise:r,onComplete:i,onProgress:c}),r.type==="listening"&&e.jsx(Fe,{exercise:r,onComplete:i,onProgress:c}),r.type==="typing"&&e.jsx(Ue,{exercise:r,onComplete:i,onProgress:c}),r.type==="quiz"&&e.jsx(Qe,{exercise:r,onComplete:i,onProgress:c}),r.type==="flashcard"&&e.jsx(Ge,{exercise:r,onComplete:i,onProgress:c}),r.type==="pronunciation"&&e.jsxs("div",{style:{padding:"2rem",textAlign:"center"},children:[e.jsx("h3",{children:"Pronunciation Exercise"}),e.jsx("p",{children:"Pronunciation functionality will be implemented in a future update."})]})]})})]})};class Ze{constructor(){this.storageKey="korean-learning-progress",this.sessionStartTime=Date.now(),this.currentSessionData={startTime:this.sessionStartTime,lessonsAttempted:[],exercisesCompleted:[],timeSpent:0,accuracyScores:[]}}initialize(){this._loadProgressData(),this._startSessionTracking(),this._setupBeforeUnloadHandler()}getProgressData(){var r,n,o;const t=this._getStoredData(),s=new Date().toDateString();return{totalLessons:((r=t.completedLessons)==null?void 0:r.length)||0,totalExercises:((n=t.completedExercises)==null?void 0:n.length)||0,totalTimeSpent:t.totalTimeSpent||0,averageAccuracy:this._calculateAverageAccuracy(t.accuracyHistory||[]),currentStreak:this._calculateCurrentStreak(t.studyDates||[]),longestStreak:t.longestStreak||0,lastStudyDate:t.lastStudyDate||null,recentActivity:t.recentActivity||[],todayProgress:((o=t.dailyProgress)==null?void 0:o[s])||{timeSpent:0,lessonsCompleted:0,exercisesCompleted:0,averageAccuracy:0},learningMetrics:{averageTimePerLesson:this._calculateAverageTimePerLesson(t),retryRates:t.retryRates||{},commonMistakes:t.commonMistakes||{},difficultyProgression:t.difficultyProgression||[],weeklyProgress:this._getWeeklyProgress(t)},achievements:t.achievements||[],badges:t.badges||[]}}trackLessonStart(t,s={}){const r=Date.now(),n=this._getStoredData();this.currentSessionData.lessonsAttempted.push({lessonId:t,startTime:r,difficulty:s.difficulty||"unknown",category:s.category||"unknown"}),n.lessonAttempts||(n.lessonAttempts=[]),n.lessonAttempts.push({lessonId:t,timestamp:r,type:"start",sessionId:this.sessionStartTime}),this._saveData(n)}trackLessonCompletion(t,s={}){const r=Date.now(),n=this._getStoredData(),o=new Date().toDateString(),l=this.currentSessionData.lessonsAttempted.find(c=>c.lessonId===t),i=l?r-l.startTime:0;n.completedLessons||(n.completedLessons=[]),n.completedLessons.includes(t)||n.completedLessons.push(t),n.lessonCompletions||(n.lessonCompletions=[]),n.lessonCompletions.push({lessonId:t,timestamp:r,timeSpent:i,accuracy:s.accuracy||0,score:s.score||0,attempts:s.attempts||1,difficulty:s.difficulty||"unknown"}),n.dailyProgress||(n.dailyProgress={}),n.dailyProgress[o]||(n.dailyProgress[o]={timeSpent:0,lessonsCompleted:0,exercisesCompleted:0,accuracyScores:[]}),n.dailyProgress[o].lessonsCompleted++,n.dailyProgress[o].timeSpent+=i,s.accuracy&&n.dailyProgress[o].accuracyScores.push(s.accuracy),n.studyDates||(n.studyDates=[]),n.studyDates.includes(o)||(n.studyDates.push(o),n.studyDates.sort()),n.totalTimeSpent=(n.totalTimeSpent||0)+i,n.lastStudyDate=o,n.accuracyHistory||(n.accuracyHistory=[]),s.accuracy&&n.accuracyHistory.push({timestamp:r,lessonId:t,accuracy:s.accuracy}),n.recentActivity||(n.recentActivity=[]),n.recentActivity.unshift({type:"lesson_completed",lessonId:t,timestamp:r,timeSpent:i,accuracy:s.accuracy||0}),n.recentActivity=n.recentActivity.slice(0,50),this._checkAchievements(n),this._saveData(n)}trackExerciseCompletion(t,s={}){const r=Date.now(),n=this._getStoredData(),o=new Date().toDateString();n.completedExercises||(n.completedExercises=[]),n.completedExercises.push({exerciseId:t,timestamp:r,accuracy:s.accuracy||0,timeSpent:s.timeSpent||0,attempts:s.attempts||1,lessonId:s.lessonId||null}),n.dailyProgress||(n.dailyProgress={}),n.dailyProgress[o]||(n.dailyProgress[o]={timeSpent:0,lessonsCompleted:0,exercisesCompleted:0,accuracyScores:[]}),n.dailyProgress[o].exercisesCompleted++,n.dailyProgress[o].timeSpent+=s.timeSpent||0,s.accuracy&&n.dailyProgress[o].accuracyScores.push(s.accuracy),s.attempts>1&&(n.retryRates||(n.retryRates={}),n.retryRates[t]||(n.retryRates[t]=0),n.retryRates[t]++),s.mistakes&&s.mistakes.length>0&&(n.commonMistakes||(n.commonMistakes={}),s.mistakes.forEach(l=>{n.commonMistakes[l]||(n.commonMistakes[l]=0),n.commonMistakes[l]++})),this._saveData(n)}getEstimatedCompletionTime(t,s={}){var i,c;const r=this._getStoredData(),n=((i=r.lessonCompletions)==null?void 0:i.filter(f=>f.lessonId===t))||[];if(n.length>0){const f=n.reduce((x,u)=>x+u.timeSpent,0)/n.length;return Math.round(f/6e4)}const o=((c=r.lessonCompletions)==null?void 0:c.filter(f=>f.difficulty===s.difficulty))||[];if(o.length>0){const f=o.reduce((x,u)=>x+u.timeSpent,0)/o.length;return Math.round(f/6e4)}return{beginner:10,intermediate:15,advanced:20}[s.difficulty]||12}getProgressReport(t="week"){var i,c,f;const s=this._getStoredData(),r=new Date;let n;switch(t){case"week":n=new Date(r.getTime()-7*24*60*60*1e3);break;case"month":n=new Date(r.getTime()-30*24*60*60*1e3);break;default:n=new Date(0)}const o=((i=s.lessonCompletions)==null?void 0:i.filter(x=>new Date(x.timestamp)>=n))||[],l=((c=s.completedExercises)==null?void 0:c.filter(x=>new Date(x.timestamp)>=n))||[];return{period:t,startDate:n.toISOString(),endDate:r.toISOString(),summary:{lessonsCompleted:o.length,exercisesCompleted:l.length,totalTimeSpent:o.reduce((x,u)=>x+u.timeSpent,0),averageAccuracy:this._calculateAverageAccuracy(o.map(x=>({accuracy:x.accuracy})))},dailyBreakdown:this._getDailyBreakdown(s,n),topCategories:this._getTopCategories(o),improvementAreas:this._getImprovementAreas(s),achievements:((f=s.achievements)==null?void 0:f.filter(x=>new Date(x.timestamp)>=n))||[]}}_getStoredData(){try{const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):{}}catch(t){return console.error("Error loading progress data:",t),{}}}_saveData(t){try{localStorage.setItem(this.storageKey,JSON.stringify(t))}catch(s){console.error("Error saving progress data:",s)}}_loadProgressData(){var s,r;const t=this._getStoredData();console.log("Progress analytics initialized with data:",{lessons:((s=t.completedLessons)==null?void 0:s.length)||0,exercises:((r=t.completedExercises)==null?void 0:r.length)||0,totalTime:t.totalTimeSpent||0})}_startSessionTracking(){this.sessionInterval=setInterval(()=>{this.currentSessionData.timeSpent+=1e3},1e3)}_setupBeforeUnloadHandler(){window.addEventListener("beforeunload",()=>{this._saveSessionData()})}_saveSessionData(){this.sessionInterval&&clearInterval(this.sessionInterval);const t=this._getStoredData();t.sessions||(t.sessions=[]),t.sessions.push({startTime:this.sessionStartTime,endTime:Date.now(),timeSpent:this.currentSessionData.timeSpent,lessonsAttempted:this.currentSessionData.lessonsAttempted.length,exercisesCompleted:this.currentSessionData.exercisesCompleted.length}),this._saveData(t)}_calculateCurrentStreak(t){if(!t||t.length===0)return 0;new Date().toDateString(),new Date(Date.now()-24*60*60*1e3).toDateString();const s=[...t].sort((o,l)=>new Date(l)-new Date(o));let r=0,n=new Date;for(const o of s){const l=new Date(o),i=Math.floor((n-l)/(24*60*60*1e3));if(i===r)r++;else if(i===r+1&&r===0)r++;else break}return r}_calculateAverageAccuracy(t){if(!t||t.length===0)return 0;const s=t.map(n=>n.accuracy).filter(n=>n!=null&&n>=0);if(s.length===0)return 0;const r=s.reduce((n,o)=>n+o,0);return Math.round(r/s.length)}_calculateAverageTimePerLesson(t){const s=t.lessonCompletions||[];if(s.length===0)return 0;const r=s.reduce((n,o)=>n+o.timeSpent,0);return Math.round(r/s.length/6e4)}_getWeeklyProgress(t){var n;const s=[],r=new Date;for(let o=6;o>=0;o--){const i=new Date(r.getTime()-o*24*60*60*1e3).toDateString(),c=((n=t.dailyProgress)==null?void 0:n[i])||{timeSpent:0,lessonsCompleted:0,exercisesCompleted:0,accuracyScores:[]};s.push({date:i,timeSpent:c.timeSpent,lessonsCompleted:c.lessonsCompleted,exercisesCompleted:c.exercisesCompleted,averageAccuracy:c.accuracyScores.length>0?Math.round(c.accuracyScores.reduce((f,x)=>f+x,0)/c.accuracyScores.length):0})}return s}_getDailyBreakdown(t,s){var l;const r=[],n=new Date,o=new Date(s);for(;o<=n;){const i=o.toDateString(),c=((l=t.dailyProgress)==null?void 0:l[i])||{timeSpent:0,lessonsCompleted:0,exercisesCompleted:0,accuracyScores:[]};r.push($(A({date:i},c),{averageAccuracy:c.accuracyScores.length>0?Math.round(c.accuracyScores.reduce((f,x)=>f+x,0)/c.accuracyScores.length):0})),o.setDate(o.getDate()+1)}return r}_getTopCategories(t){const s={};return t.forEach(r=>{r.difficulty&&(s[r.difficulty]||(s[r.difficulty]=0),s[r.difficulty]++)}),Object.entries(s).sort(([,r],[,n])=>n-r).slice(0,5).map(([r,n])=>({category:r,count:n}))}_getImprovementAreas(t){const s=[],r=t.retryRates||{},n=Object.entries(r).filter(([,i])=>i>2).sort(([,i],[,c])=>c-i).slice(0,3);n.length>0&&s.push({type:"high_retry_rate",description:"Exercises with high retry rates",exercises:n.map(([i,c])=>({id:i,retries:c}))});const o=t.commonMistakes||{},l=Object.entries(o).sort(([,i],[,c])=>c-i).slice(0,3);return l.length>0&&s.push({type:"common_mistakes",description:"Most common mistakes",mistakes:l.map(([i,c])=>({mistake:i,count:c}))}),s}_checkAchievements(t){var o;t.achievements||(t.achievements=[]),t.badges||(t.badges=[]);const s=((o=t.completedLessons)==null?void 0:o.length)||0,r=this._calculateCurrentStreak(t.studyDates||[]);[{id:"first_lesson",name:"First Steps",description:"Complete your first lesson",condition:()=>s>=1,badge:"beginner"},{id:"five_lessons",name:"Getting Started",description:"Complete 5 lessons",condition:()=>s>=5,badge:"learner"},{id:"ten_lessons",name:"Dedicated Student",description:"Complete 10 lessons",condition:()=>s>=10,badge:"dedicated"},{id:"streak_3",name:"3-Day Streak",description:"Study for 3 consecutive days",condition:()=>r>=3,badge:"consistent"},{id:"streak_7",name:"Week Warrior",description:"Study for 7 consecutive days",condition:()=>r>=7,badge:"warrior"},{id:"streak_30",name:"Monthly Master",description:"Study for 30 consecutive days",condition:()=>r>=30,badge:"master"}].forEach(l=>{!t.achievements.some(c=>c.id===l.id)&&l.condition()&&(t.achievements.push($(A({},l),{timestamp:Date.now(),earnedAt:new Date().toISOString()})),t.badges.includes(l.badge)||t.badges.push(l.badge))})}}const ne=new Ze,Xe=()=>{var f,x;const[a,t]=m.useState(null),[s,r]=m.useState("week"),[n,o]=m.useState(null);if(m.useEffect(()=>{ne.initialize();const u=ne.getProgressData();t(u);const g=ne.getProgressReport(s);o(g)},[s]),!a)return e.jsxs("div",{className:"page-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading progress data..."})]});const l=()=>a.totalLessons>0?Math.round(a.totalLessons/20*100):0,i=u=>{const g=Math.floor(u/6e4);if(g<60)return`${g}m`;const j=Math.floor(g/60),d=g%60;return`${j}h ${d}m`},c=u=>u?`${Math.round(u)}%`:"0%";return e.jsxs("div",{className:"page-container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Learning Progress"}),e.jsx("p",{className:"page-description",children:"Track your Korean learning journey and see how far you've come."})]}),e.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[e.jsx("div",{className:"card-header",children:e.jsx("h2",{className:"card-title",children:"Overall Progress"})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"2rem",marginBottom:"2rem"},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"var(--primary-color)",marginBottom:"0.5rem"},children:[l(),"%"]}),e.jsx("div",{style:{color:"var(--text-secondary)"},children:"Course Completion"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"var(--success-color)",marginBottom:"0.5rem"},children:a.totalLessons}),e.jsx("div",{style:{color:"var(--text-secondary)"},children:"Lessons Completed"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"var(--warning-color)",marginBottom:"0.5rem"},children:a.currentStreak}),e.jsx("div",{style:{color:"var(--text-secondary)"},children:"Day Streak"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"var(--secondary-color)",marginBottom:"0.5rem"},children:i(a.totalTimeSpent)}),e.jsx("div",{style:{color:"var(--text-secondary)"},children:"Time Studied"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"var(--primary-color)",marginBottom:"0.5rem"},children:c(a.averageAccuracy)}),e.jsx("div",{style:{color:"var(--text-secondary)"},children:"Average Accuracy"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"var(--success-color)",marginBottom:"0.5rem"},children:a.totalExercises}),e.jsx("div",{style:{color:"var(--text-secondary)"},children:"Exercises Completed"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",color:"var(--text-primary)"},children:"Progress by Module"}),e.jsx("div",{className:"progress-bar",style:{marginBottom:"0.5rem"},children:e.jsx("div",{className:"progress-fill",style:{width:`${l()}%`}})}),e.jsxs("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:[a.totalLessons," lessons completed"]})]})]}),a.achievements&&a.achievements.length>0&&e.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[e.jsx("div",{className:"card-header",children:e.jsx("h2",{className:"card-title",children:"Achievements"})}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:a.achievements.slice(0,6).map((u,g)=>e.jsxs("div",{style:{padding:"1rem",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius)",backgroundColor:"var(--bg-secondary)",textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:[u.badge==="beginner"&&"🌱",u.badge==="learner"&&"📚",u.badge==="dedicated"&&"🎯",u.badge==="consistent"&&"⭐",u.badge==="warrior"&&"⚔️",u.badge==="master"&&"👑"]}),e.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"0.25rem",color:"var(--text-primary)"},children:u.name}),e.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:u.description}),e.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Earned ",new Date(u.timestamp).toLocaleDateString()]})]},u.id))}),a.achievements.length>6&&e.jsxs("p",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"0.875rem"},children:["And ",a.achievements.length-6," more achievements..."]})]}),a.learningMetrics&&a.learningMetrics.weeklyProgress&&e.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[e.jsx("div",{className:"card-header",children:e.jsx("h2",{className:"card-title",children:"Weekly Progress"})}),e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"end",height:"200px",padding:"1rem 0",borderBottom:"1px solid var(--border-color)"},children:a.learningMetrics.weeklyProgress.map((u,g)=>{const j=Math.max(...a.learningMetrics.weeklyProgress.map(p=>p.timeSpent)),d=j>0?u.timeSpent/j*150:0;return e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",flex:1},children:[e.jsx("div",{style:{width:"30px",height:`${d}px`,backgroundColor:u.timeSpent>0?"var(--primary-color)":"var(--border-color)",borderRadius:"4px 4px 0 0",marginBottom:"0.5rem",transition:"all 0.3s ease"}}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textAlign:"center"},children:new Date(u.date).toLocaleDateString("en",{weekday:"short"})}),e.jsx("div",{style:{fontSize:"0.625rem",color:"var(--text-muted)",textAlign:"center"},children:i(u.timeSpent)})]},g)})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Exercise Performance"})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("span",{style:{color:"var(--text-secondary)"},children:"Exercises Completed"}),e.jsx("span",{style:{fontWeight:"600",color:"var(--text-primary)"},children:a.totalExercises})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("span",{style:{color:"var(--text-secondary)"},children:"Average Accuracy"}),e.jsx("span",{style:{fontWeight:"600",color:a.averageAccuracy>=80?"var(--success-color)":a.averageAccuracy>=60?"var(--warning-color)":"var(--error-color)"},children:c(a.averageAccuracy)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("span",{style:{color:"var(--text-secondary)"},children:"Average Time per Lesson"}),e.jsxs("span",{style:{fontWeight:"600",color:"var(--text-primary)"},children:[((f=a.learningMetrics)==null?void 0:f.averageTimePerLesson)||0," min"]})]}),e.jsx(M,{to:"/lessons",className:"btn btn-outline",style:{width:"100%"},children:"Practice More"})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Learning Streak"})}),e.jsxs("div",{style:{textAlign:"center",marginBottom:"1rem"},children:[e.jsx("div",{style:{fontSize:"3rem",marginBottom:"0.5rem"},children:"🔥"}),e.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--warning-color)",marginBottom:"0.5rem"},children:[a.currentStreak," Days"]}),e.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:a.currentStreak===0?"Start your learning streak today!":"Keep it up! Study today to maintain your streak."}),a.longestStreak>0&&e.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Longest streak: ",a.longestStreak," days"]})]}),e.jsx(M,{to:"/lessons",className:"btn btn-primary",style:{width:"100%"},children:"Study Today"})]})]}),e.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Completed Lessons"}),e.jsx("p",{className:"card-subtitle",children:a.totalLessons===0?"No lessons completed yet. Start your first lesson!":`You've completed ${a.totalLessons} lesson${a.totalLessons!==1?"s":""}`})]}),a.totalLessons===0?e.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem",color:"var(--text-secondary)"},children:[e.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"📚"}),e.jsx("p",{style:{marginBottom:"1.5rem"},children:"Complete your first lesson to see your progress here."}),e.jsx(M,{to:"/lessons",className:"btn btn-primary",children:"Start Learning"})]}):e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"1rem"},children:(x=a.recentActivity)==null?void 0:x.filter(u=>u.type==="lesson_completed").slice(0,6).map((u,g)=>e.jsxs("div",{style:{border:"1px solid var(--border-color)",borderRadius:"var(--border-radius)",padding:"1rem",backgroundColor:"var(--bg-secondary)"},children:[e.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"0.5rem",color:"var(--text-primary)"},children:["Lesson ",u.lessonId]}),e.jsxs("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:["Accuracy: ",c(u.accuracy)]}),e.jsxs("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"1rem"},children:["Time: ",i(u.timeSpent)]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.875rem"},children:[e.jsx("span",{className:"badge badge-success",children:"✓ Completed"}),e.jsx("span",{style:{color:"var(--text-secondary)"},children:new Date(u.timestamp).toLocaleDateString()})]})]},g))})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Recent Activity"}),e.jsx("p",{className:"card-subtitle",children:"Your latest learning sessions"})]}),!a.recentActivity||a.recentActivity.length===0?e.jsx("div",{style:{textAlign:"center",padding:"2rem 1rem",color:"var(--text-secondary)"},children:e.jsx("p",{children:"No recent activity. Start studying to see your progress!"})}):e.jsx("div",{children:a.recentActivity.slice(0,10).map((u,g)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem 0",borderBottom:g<Math.min(a.recentActivity.length,10)-1?"1px solid var(--border-color)":"none"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"500",color:"var(--text-primary)",marginBottom:"0.25rem"},children:u.type==="lesson_completed"?"✅ Completed Lesson":"📝 Activity"}),e.jsxs("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:["Lesson ID: ",u.lessonId,u.accuracy>0&&e.jsxs("span",{style:{marginLeft:"0.5rem",color:"var(--success-color)"},children:["• ",c(u.accuracy)," accuracy"]})]}),e.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:["Time spent: ",i(u.timeSpent)]})]}),e.jsx("div",{style:{fontSize:"0.875rem",color:"var(--text-muted)"},children:new Date(u.timestamp).toLocaleDateString()})]},g))})]})]})},et=()=>{const[a,t]=m.useState(()=>localStorage.getItem("theme")||"light"),[s,r]=m.useState(()=>localStorage.getItem("audioEnabled")!=="false"),[n,o]=m.useState(()=>parseInt(localStorage.getItem("audioVolume")||"80")),[l,i]=m.useState(()=>localStorage.getItem("autoPlay")!=="false"),[c,f]=m.useState(()=>localStorage.getItem("showRomanization")!=="false"),[x,u]=m.useState(()=>parseInt(localStorage.getItem("dailyGoal")||"15"));m.useEffect(()=>{document.documentElement.setAttribute("data-theme",a),localStorage.setItem("theme",a)},[a]),m.useEffect(()=>{localStorage.setItem("audioEnabled",s.toString())},[s]),m.useEffect(()=>{localStorage.setItem("audioVolume",n.toString())},[n]),m.useEffect(()=>{localStorage.setItem("autoPlay",l.toString())},[l]),m.useEffect(()=>{localStorage.setItem("showRomanization",c.toString())},[c]),m.useEffect(()=>{localStorage.setItem("dailyGoal",x.toString())},[x]);const g=()=>{window.confirm("Are you sure you want to clear all your progress? This action cannot be undone.")&&(["completedLessons","exerciseScores","progressData","recentActivity"].forEach(p=>localStorage.removeItem(p)),alert("Progress data has been cleared."))},j=()=>{const d={theme:a,audioEnabled:s,audioVolume:n,autoPlay:l,showRomanization:c,dailyGoal:x,completedLessons:JSON.parse(localStorage.getItem("completedLessons")||"[]"),exerciseScores:JSON.parse(localStorage.getItem("exerciseScores")||"{}"),progressData:JSON.parse(localStorage.getItem("progressData")||"{}")},p=JSON.stringify(d,null,2),y=new Blob([p],{type:"application/json"}),v=URL.createObjectURL(y),C=document.createElement("a");C.href=v,C.download="korean-learning-data.json",document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(v)};return e.jsxs("div",{className:"page-container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{className:"page-title",children:"Settings"}),e.jsx("p",{className:"page-description",children:"Customize your learning experience and manage your preferences."})]}),e.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h2",{className:"card-title",children:"Appearance"}),e.jsx("p",{className:"card-subtitle",children:"Customize the look and feel of the app"})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",fontWeight:"500",marginBottom:"0.5rem",color:"var(--text-primary)"},children:"Theme"}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{className:`btn ${a==="light"?"btn-primary":"btn-secondary"}`,onClick:()=>t("light"),children:"☀️ Light"}),e.jsx("button",{className:`btn ${a==="dark"?"btn-primary":"btn-secondary"}`,onClick:()=>t("dark"),children:"🌙 Dark"})]})]})]}),e.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h2",{className:"card-title",children:"Audio Settings"}),e.jsx("p",{className:"card-subtitle",children:"Configure audio playback preferences"})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:s,onChange:d=>r(d.target.checked),style:{width:"1.25rem",height:"1.25rem",accentColor:"var(--primary-color)"}}),e.jsx("span",{style:{fontWeight:"500",color:"var(--text-primary)"},children:"Enable Audio"})]}),e.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginTop:"0.25rem",marginLeft:"1.75rem"},children:"Play audio examples and pronunciation guides"})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("label",{style:{display:"block",fontWeight:"500",marginBottom:"0.5rem",color:"var(--text-primary)"},children:["Audio Volume: ",n,"%"]}),e.jsx("input",{type:"range",min:"0",max:"100",value:n,onChange:d=>o(parseInt(d.target.value)),disabled:!s,style:{width:"100%",accentColor:"var(--primary-color)"}})]}),e.jsxs("div",{children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:l,onChange:d=>i(d.target.checked),disabled:!s,style:{width:"1.25rem",height:"1.25rem",accentColor:"var(--primary-color)"}}),e.jsx("span",{style:{fontWeight:"500",color:"var(--text-primary)"},children:"Auto-play Audio"})]}),e.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginTop:"0.25rem",marginLeft:"1.75rem"},children:"Automatically play audio when examples are displayed"})]})]}),e.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h2",{className:"card-title",children:"Learning Preferences"}),e.jsx("p",{className:"card-subtitle",children:"Customize your learning experience"})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:c,onChange:d=>f(d.target.checked),style:{width:"1.25rem",height:"1.25rem",accentColor:"var(--primary-color)"}}),e.jsx("span",{style:{fontWeight:"500",color:"var(--text-primary)"},children:"Show Romanization"})]}),e.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginTop:"0.25rem",marginLeft:"1.75rem"},children:"Display romanized pronunciation alongside Korean text"})]}),e.jsxs("div",{children:[e.jsxs("label",{style:{display:"block",fontWeight:"500",marginBottom:"0.5rem",color:"var(--text-primary)"},children:["Daily Learning Goal: ",x," minutes"]}),e.jsx("input",{type:"range",min:"5",max:"120",step:"5",value:x,onChange:d=>u(parseInt(d.target.value)),style:{width:"100%",accentColor:"var(--primary-color)"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem"},children:[e.jsx("span",{children:"5 min"}),e.jsx("span",{children:"120 min"})]})]})]}),e.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h2",{className:"card-title",children:"Data Management"}),e.jsx("p",{className:"card-subtitle",children:"Manage your learning data and privacy"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[e.jsx("button",{className:"btn btn-outline",onClick:j,style:{justifyContent:"flex-start"},children:"📥 Export Data"}),e.jsx("button",{className:"btn btn-secondary",onClick:g,style:{justifyContent:"flex-start"},children:"🗑️ Clear Progress"})]}),e.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"var(--bg-tertiary)",borderRadius:"var(--border-radius)",fontSize:"0.875rem",color:"var(--text-secondary)"},children:[e.jsx("strong",{children:"Privacy Note:"})," All your data is stored locally on your device. We don't collect or transmit any personal information or learning progress to external servers."]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h2",{className:"card-title",children:"About"})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",fontSize:"0.875rem",color:"var(--text-secondary)"},children:[e.jsxs("div",{children:[e.jsx("strong",{style:{color:"var(--text-primary)"},children:"Version:"}),e.jsx("br",{}),"1.0.0 MVP"]}),e.jsxs("div",{children:[e.jsx("strong",{style:{color:"var(--text-primary)"},children:"Build:"}),e.jsx("br",{}),"Development"]}),e.jsxs("div",{children:[e.jsx("strong",{style:{color:"var(--text-primary)"},children:"Framework:"}),e.jsx("br",{}),"React + Vite"]})]}),e.jsx("div",{style:{marginTop:"1.5rem",textAlign:"center",fontSize:"0.875rem",color:"var(--text-secondary)"},children:e.jsx("p",{children:"Korean Language Learning Web App - Designed for effective self-study"})})]})]})};function tt(){return e.jsx("div",{className:"App",children:e.jsx(Q,{componentName:"Layout",title:"Navigation Error",message:"There was an error with the application layout. Please try refreshing the page.",children:e.jsx(Me,{children:e.jsxs(Ae,{children:[e.jsx(Y,{path:"/",element:e.jsx(Q,{componentName:"Home Page",title:"Home Page Error",message:"There was an error loading the home page. Please try again.",children:e.jsx(We,{})})}),e.jsx(Y,{path:"/lessons",element:e.jsx(Q,{componentName:"Lessons List",title:"Lessons List Error",message:"There was an error loading the lessons list. Please try again.",children:e.jsx($e,{})})}),e.jsx(Y,{path:"/lessons/:lessonId",element:e.jsx(Q,{componentName:"Lesson Detail",title:"Lesson Error",message:"There was an error loading this lesson. Please try selecting a different lesson or go back to the lessons list.",children:e.jsx(Ye,{})})}),e.jsx(Y,{path:"/progress",element:e.jsx(Q,{componentName:"Progress Page",title:"Progress Tracking Error",message:"There was an error loading your progress data. Please try again.",children:e.jsx(Xe,{})})}),e.jsx(Y,{path:"/settings",element:e.jsx(Q,{componentName:"Settings Page",title:"Settings Error",message:"There was an error loading the settings page. Please try again.",children:e.jsx(et,{})})})]})})})})}class rt{constructor(){this.isInitialized=!1,this.errorQueue=[],this.networkErrors=new Map,this.jsErrors=new Map,this.promiseRejections=new Map,this.initialize()}initialize(){this.isInitialized||(this.setupJavaScriptErrorTracking(),this.setupPromiseRejectionTracking(),this.setupNetworkErrorTracking(),this.setupResourceErrorTracking(),this.setupConsoleErrorTracking(),this.isInitialized=!0,Z("system","Error tracking system initialized",{timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href}))}setupJavaScriptErrorTracking(){window.addEventListener("error",t=>{var n;const s={message:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno,error:t.error,stack:(n=t.error)==null?void 0:n.stack,timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent},r=U("system",`JavaScript Error: ${t.message}`,s);this.jsErrors.set(r,s),this.errorQueue.push(A({type:"javascript",errorId:r},s)),console.error("Global JavaScript Error:",s)})}setupPromiseRejectionTracking(){window.addEventListener("unhandledrejection",t=>{var n,o;const s={reason:t.reason,promise:t.promise,message:((n=t.reason)==null?void 0:n.message)||"Unhandled Promise Rejection",stack:(o=t.reason)==null?void 0:o.stack,timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent},r=U("system",`Unhandled Promise Rejection: ${s.message}`,s);this.promiseRejections.set(r,s),this.errorQueue.push(A({type:"promise_rejection",errorId:r},s)),console.error("Unhandled Promise Rejection:",s),t.preventDefault()})}setupNetworkErrorTracking(){const t=window.fetch;window.fetch=(...s)=>J(this,null,function*(){const r=performance.now(),n=s[0];try{const o=yield t(...s),l=performance.now()-r;if(l>5e3&&ce("network",`Slow network request: ${n}`,{url:n,duration:l,status:o.status,statusText:o.statusText}),!o.ok){const i={url:n,status:o.status,statusText:o.statusText,duration:l,timestamp:new Date().toISOString()},c=U("network",`Network Error: ${o.status} ${o.statusText}`,i);this.networkErrors.set(c,i),this.errorQueue.push(A({type:"network",errorId:c},i))}return o}catch(o){const l=performance.now()-r,i={url:n,error:o.message,duration:l,timestamp:new Date().toISOString()},c=U("network",`Network Request Failed: ${n}`,i);throw this.networkErrors.set(c,i),this.errorQueue.push(A({type:"network",errorId:c},i)),o}})}setupResourceErrorTracking(){document.addEventListener("error",t=>{if(t.target.tagName==="IMG"){const s={type:"image",src:t.target.src,alt:t.target.alt,timestamp:new Date().toISOString()},r=U("asset_loading",`Image failed to load: ${t.target.src}`,s);this.errorQueue.push(A({type:"resource",errorId:r},s))}if(t.target.tagName==="AUDIO"){const s={type:"audio",src:t.target.src,timestamp:new Date().toISOString()},r=U("asset_loading",`Audio failed to load: ${t.target.src}`,s);this.errorQueue.push(A({type:"resource",errorId:r},s))}},!0)}setupConsoleErrorTracking(){const t=console.error;console.error=(...s)=>{t.apply(console,s);const r={arguments:s.map(n=>typeof n=="object"?JSON.stringify(n,null,2):String(n)),timestamp:new Date().toISOString(),url:window.location.href};ce("system","Console Error",r),this.errorQueue.push(A({type:"console"},r))}}getTrackingStatistics(){return{totalErrors:this.errorQueue.length,javascriptErrors:Array.from(this.jsErrors.values()).length,networkErrors:Array.from(this.networkErrors.values()).length,promiseRejections:Array.from(this.promiseRejections.values()).length,recentErrors:this.errorQueue.filter(t=>Date.now()-new Date(t.timestamp).getTime()<24*60*60*1e3).length,errorsByType:this.getErrorsByType(),errorTrends:this.getErrorTrends()}}getErrorsByType(){const t={};return this.errorQueue.forEach(s=>{t[s.type]=(t[s.type]||0)+1}),t}getErrorTrends(){const t=Date.now(),s={};return this.errorQueue.forEach(r=>{const n=new Date(r.timestamp).getTime(),o=Math.floor((t-n)/(60*60*1e3));o<24&&(s[o]=(s[o]||0)+1)}),s}getAllTrackedErrors(){return[...this.errorQueue]}clearTrackingData(){this.errorQueue=[],this.networkErrors.clear(),this.jsErrors.clear(),this.promiseRejections.clear(),Z("system","Error tracking data cleared",{timestamp:new Date().toISOString()})}exportTrackingData(){return{statistics:this.getTrackingStatistics(),errors:this.getAllTrackedErrors(),networkErrors:Object.fromEntries(this.networkErrors),jsErrors:Object.fromEntries(this.jsErrors),promiseRejections:Object.fromEntries(this.promiseRejections),exportTimestamp:new Date().toISOString()}}reportError(t,s={}){const r={message:t.message||"Manual error report",stack:t.stack,context:s,timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent},n=U("user_reported",r.message,r);return this.errorQueue.push(A({type:"manual",errorId:n},r)),n}isHealthy(){return this.errorQueue.filter(s=>Date.now()-new Date(s.timestamp).getTime()<3e5).length<10}}new rt;ae.createRoot(document.getElementById("root")).render(e.jsx(de.StrictMode,{children:e.jsx(Q,{componentName:"Application Root",title:"Application Error",message:"The Korean learning application encountered a critical error. Please refresh the page to continue.",children:e.jsx(Te,{children:e.jsx(tt,{})})})}))});export default st();
